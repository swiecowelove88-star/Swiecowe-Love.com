<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>≈öwiecowe Love - Rƒôcznie robione kwiaty z wosku i ≈õwiece</title>
    <meta name="description" content="≈öwiecowe Love ‚Äì Rƒôcznie robimy kwiaty z wosku oraz ≈õwiece, r√≥wnie≈º eleganckie boxy, pachnƒÖce ≈õwiece i bukiety, kt√≥re ≈ºyjƒÖ wiecznie.">
    
    <!-- Custom Styles for Responsive Product Images -->
    <style>
        @media (max-width: 767px) {
            .product-image-container {
                height: 300px !important;
            }
        }
        
        @media (min-width: 768px) and (max-width: 1023px) {
            .product-image-container {
                height: 400px !important;
            }
        }
    </style>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="image/Logo.ico">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: {
                            50: '#fafaf9',
                            100: '#faf7f2',
                            200: '#fff9f0',
                            300: '#f5f0e8',
                            400: '#ede4d8',
                        },
                        rose: {
                            50: '#fff5f7',
                            100: '#ffe4e8',
                            200: '#fecdd6',
                            300: '#fda4b5',
                            400: '#f87171',
                        },
                        gold: {
                            500: '#d4af37',
                            600: '#b8941f',
                        }
                    },
                    fontFamily: {
                        poppins: ['Poppins', 'system-ui', 'sans-serif'],
                        dancing: ['Dancing Script', 'cursive'],
                    },
                }
            }
        }
    </script>
    
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        /* Mobile menu animation */
        #mobile-menu {
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.4s cubic-bezier(0.22, 0.61, 0.36, 1);
            max-height: 0;
            overflow: hidden;
        }
        
        #mobile-menu:not(.hidden) {
            opacity: 1;
            transform: translateY(0);
            max-height: 500px;
            display: block !important;
            transition: all 0.4s cubic-bezier(0.22, 0.61, 0.36, 1);
        }
        
        /* Smooth link animations */
        #mobile-menu a {
            opacity: 0;
            transform: translateX(-15px);
            transition: all 0.4s cubic-bezier(0.22, 0.61, 0.36, 1);
        }
        
        #mobile-menu:not(.hidden) a {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Override any other styles that might hide the mobile menu */
        #mobile-menu:not(.hidden) {
            visibility: visible !important;
            height: auto !important;
            background-color: white !important;
            z-index: 9999 !important;
        }
        
        body {
            font-family: 'Poppins', system-ui, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .delay-200 {
            animation-delay: 0.2s;
            opacity: 0;
        }
        
        .delay-400 {
            animation-delay: 0.4s;
            opacity: 0;
        }
        
        .delay-600 {
            animation-delay: 0.6s;
            opacity: 0;
        }
        
        /* Carousel Styles */
        .carousel-item {
            flex: 0 0 100%;
            min-width: 100%;
        }
        
        @media (min-width: 768px) {
            .carousel-item {
                flex: 0 0 50%;
                min-width: 50%;
            }
        }
        
        @media (min-width: 1024px) {
            .carousel-item {
                flex: 0 0 33.333%;
                min-width: 33.333%;
            }
        }
        
        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #e5e7eb;
            transition: background-color 0.3s ease;
        }
        
        .carousel-dot.active {
            background-color: #f87171;
        }
        
        .carousel-dot:hover {
            background-color: #fda4b5;
            transform: scale(1.2);
        }
        
        /* Scroll Animations */
        .animate-fadeIn {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .animate-fadeIn.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .animate-slideInLeft {
            opacity: 0;
            transform: translateX(-50px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .animate-slideInLeft.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .animate-slideInRight {
            opacity: 0;
            transform: translateX(50px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .animate-slideInRight.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .animate-scaleIn {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .animate-scaleIn.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        .animate-delay-1 {
            transition-delay: 0.1s;
        }
        
        .animate-delay-2 {
            transition-delay: 0.2s;
        }
        
        .animate-delay-3 {
            transition-delay: 0.3s;
        }
        
        .animate-delay-4 {
            transition-delay: 0.4s;
        }

        .hero-bg {
            background-image: url('image/tlo.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }


    </style>
</head>
<body class="font-poppins">
    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center gap-4">
                    <img src="image/Logo.png" alt="≈öwiecowe Love Logo" class="h-10 w-auto">
                    <div class="text-lg font-bold text-rose-400 font-dancing">≈öwiecowe Love</div>
                </div>
                
                <div class="hidden md:flex items-center space-x-6">
                    <div class="flex space-x-6">
                        <a href="#home" class="text-gray-700 hover:text-rose-400 transition-colors font-medium">Strona G≈Ç√≥wna</a>
                        <a href="#o-nas" class="text-gray-700 hover:text-rose-400 transition-colors font-medium">O Nas</a>
                        <a href="#produkty" class="text-gray-700 hover:text-rose-400 transition-colors font-medium">Produkty</a>
                        <a href="#kontakt" class="text-gray-700 hover:text-rose-400 transition-colors font-medium">Kontakt</a>
                    </div>
                    <button onclick="showAdminLogin()" class="text-gray-400 hover:text-rose-400 transition-colors text-sm ml-4 pl-4 border-l border-gray-200">
                        Admin
                    </button>
                </div>
                
                <div class="flex md:hidden items-center gap-3">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-rose-500 transition-all duration-300 cursor-pointer p-3 rounded-xl bg-white shadow-lg hover:shadow-xl hover:bg-rose-50 focus:outline-none focus:ring-2 focus:ring-rose-400 focus:ring-opacity-50 transform hover:scale-105 z-50 relative animate-pulse hover:animate-none">
                        <svg class="h-6 w-6 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <button onclick="showAdminLogin()" class="text-gray-400 hover:text-rose-400 transition-colors text-lg font-medium whitespace-nowrap" title="Panel administracyjny">
                        üîê
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden bg-gradient-to-b from-white to-rose-50 shadow-xl fixed top-20 left-0 right-0 z-50 p-0 min-h-[200px] hidden border-t-2 border-rose-200">
        <div class="max-w-7xl mx-auto bg-white/90 backdrop-blur-sm px-4">
            <div class="py-3 space-y-0">
                <a href="#home" class="block px-6 py-4 text-lg font-semibold text-gray-800 hover:text-rose-600 hover:bg-rose-50 hover:shadow-sm transition-all duration-300 border-b border-gray-100" style="transition-delay: 0.1s;">Strona G≈Ç√≥wna</a>
                <a href="#o-nas" class="block px-6 py-4 text-lg font-semibold text-gray-800 hover:text-rose-600 hover:bg-rose-50 hover:shadow-sm transition-all duration-300 border-b border-gray-100" style="transition-delay: 0.15s;">O Nas</a>
                <a href="#produkty" class="block px-6 py-4 text-lg font-semibold text-gray-800 hover:text-rose-600 hover:bg-rose-50 hover:shadow-sm transition-all duration-300 border-b border-gray-100" style="transition-delay: 0.2s;">Produkty</a>
                <a href="#kontakt" class="block px-6 py-4 text-lg font-semibold text-gray-800 hover:text-rose-600 hover:bg-rose-50 hover:shadow-sm transition-all duration-300" style="transition-delay: 0.25s;">Kontakt</a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center overflow-hidden hero-bg">
        <div class="absolute inset-0 bg-gradient-to-br from-rose-100/80 via-white/70 to-cream-200/80"></div>
        
        <div class="relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-5xl">
            <h1 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-gray-900 mb-6 animate-fade-in-up delay-200 font-dancing">
                ≈öwiecowe Love
            </h1>
            <p class="text-xl sm:text-2xl md:text-3xl text-gray-800 mb-8 max-w-3xl mx-auto animate-fade-in-up delay-400 leading-relaxed">
                Rƒôcznie robimy kwiaty z wosku oraz ≈õwiece, r√≥wnie≈º eleganckie boxy, pachnƒÖce ≈õwiece i bukiety, kt√≥re ≈ºyjƒÖ wiecznie. 
            </p>
            <p class="text-lg sm:text-xl text-gray-700 mb-8 animate-fade-in-up delay-400">
                Piƒôkne, dopracowane ≈ºe robiƒÖ efekt WOW, sama magia. üïØÔ∏è‚ú®
            </p>
            <p class="text-lg sm:text-xl text-gray-700 mb-10 animate-fade-in-up delay-400 font-semibold">
                ≈öwiecowe pere≈Çki od stroik√≥w urodzinowych do dekor√≥w.
            </p>
            <a href="#produkty" class="inline-block bg-rose-400 text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-rose-500 transition-all duration-300 hover:scale-105 shadow-2xl animate-fade-in-up delay-600">
                Zam√≥w ju≈º u NAS! üíï
            </a>
        </div>
    </section>

    <!-- Slider Section -->
    <section id="slider" class="py-12 bg-white animate-fadeIn">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="slider-container" class="min-h-[300px] md:min-h-[500px] rounded-2xl overflow-hidden">
                <!-- Slider will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- New Gallery Section -->
    <section id="galeria" class="py-20 lg:py-32 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-gray-900 font-dancing animate-fadeIn">Nasza Galeria</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <!-- Text Content -->
                <div class="space-y-6 animate-slideInLeft">
                    <h3 class="text-3xl font-semibold text-gray-900">Nasze Najpiƒôkniejsze Kreacje</h3>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-1">
                        W ≈öwiecowe Love ka≈ºdy produkt jest tworzony rƒôcznie z najwy≈ºszƒÖ staranno≈õciƒÖ. Nasze kwiaty z wosku i ≈õwiece to nie tylko dekoracje ‚Äì to prawdziwe dzie≈Ça sztuki, kt√≥re przetrwajƒÖ pr√≥bƒô czasu.
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-2">
                        Oferujemy eleganckie boxy, pachnƒÖce ≈õwiece oraz bukiety, kt√≥re nigdy nie wiƒôdnƒÖ. Ka≈ºdy element jest dopracowany w najdrobniejszych szczeg√≥≈Çach, aby wywo≈Çaƒá efekt WOW.
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-3">
                        Od stroik√≥w urodzinowych po wyrafinowane dekoracje ‚Äì nasze ≈õwiecowe pere≈Çki dodadzƒÖ magii ka≈ºdej chwili. Zam√≥w ju≈º teraz i przekonaj siƒô sam!
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-4">
                        Nasze produkty sƒÖ tworzone z pasjƒÖ i mi≈Ço≈õciƒÖ do szczeg√≥≈Çu. Ka≈ºda kompozycja jest unikalna i niepowtarzalna, dok≈Çadnie tak jak chcesz.
                    </p>
                    <a href="#kontakt" class="inline-flex items-center gap-2 bg-rose-400 text-white px-8 py-4 rounded-full font-semibold hover:bg-rose-500 transition-all duration-300 hover:scale-105 text-lg animate-scaleIn">
                        üíï Zam√≥w Teraz
                    </a>
                </div>
                
                <!-- Images Grid -->
                <div id="gallery-images-grid" class="grid grid-cols-2 gap-4 animate-slideInRight">
                    <!-- Gallery images will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </section>

    <!-- O Nas Section -->
    <section id="o-nas" class="py-20 lg:py-32 bg-cream-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-gray-900 font-dancing animate-fadeIn">Nasza Historia</h2>
            
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="relative h-96 md:h-[500px] rounded-2xl overflow-hidden shadow-2xl animate-slideInLeft">
                    <img id="about-section-image" src="image/misiek.png" alt="Nasze produkty" class="w-full h-full object-cover" loading="lazy">
                </div>
                
                <div class="space-y-6 animate-slideInRight">
                    <h3 class="text-3xl font-semibold text-gray-900">Tworzone z PasjƒÖ i Mi≈Ço≈õciƒÖ</h3>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-1">
                        W ≈öwiecowe Love ka≈ºdy produkt jest tworzony rƒôcznie z najwy≈ºszƒÖ staranno≈õciƒÖ. Nasze kwiaty z wosku i ≈õwiece to nie tylko dekoracje ‚Äì to prawdziwe dzie≈Ça sztuki, kt√≥re przetrwajƒÖ pr√≥bƒô czasu.
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-2">
                        Oferujemy eleganckie boxy, pachnƒÖce ≈õwiece oraz bukiety, kt√≥re nigdy nie wiƒôdnƒÖ. Ka≈ºdy element jest dopracowany w najdrobniejszych szczeg√≥≈Çach, aby wywo≈Çaƒá efekt WOW.
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed animate-delay-3">
                        Od stroik√≥w urodzinowych po wyrafinowane dekoracje ‚Äì nasze ≈õwiecowe pere≈Çki dodadzƒÖ magii ka≈ºdej chwili. Zam√≥w ju≈º teraz i przekonaj siƒô sam!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Produkty Section -->
    <section id="produkty" class="py-20 lg:py-32 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 id="products-section-title" class="text-4xl md:text-5xl font-bold text-center mb-4 text-gray-900 font-dancing animate-fadeIn">Nasze Produkty</h2>
            <p id="products-section-description" class="text-center text-gray-600 text-lg mb-16 max-w-2xl mx-auto animate-fadeIn animate-delay-1">
                Odkryj naszƒÖ kolekcjƒô rƒôcznie robionych kwiat√≥w z wosku i ≈õwiec
            </p>
            
            <!-- Carousel Container -->
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 group">
                <!-- Navigation Arrows -->
                <button id="prev-product-btn" class="absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white rounded-full p-3 shadow-lg transition-all duration-300 opacity-0 group-hover:opacity-100" onclick="prevProductSlide()">
                    <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <button id="next-product-btn" class="absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white rounded-full p-3 shadow-lg transition-all duration-300 opacity-0 group-hover:opacity-100" onclick="nextProductSlide()">
                    <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
                
                <!-- Products Carousel -->
                <div id="products-carousel" class="overflow-hidden">
                    <div id="products-track" class="flex transition-transform duration-500 ease-in-out">
                        <!-- Products will be dynamically inserted here -->
                    </div>
                </div>
                
                <!-- Dots Indicator -->
                <div id="carousel-dots" class="flex justify-center mt-6 space-x-2">
                    <!-- Dots will be dynamically inserted here -->
                </div>
            </div>
            
            <div id="load-more-container" class="text-center mt-12 hidden animate-fadeIn animate-delay-2">
                <button onclick="loadMoreProducts()" id="load-more-btn" class="px-8 py-4 bg-rose-400 text-white rounded-full font-semibold hover:bg-rose-500 transition-all duration-300 hover:scale-105 shadow-lg">
                    Wczytaj Wiƒôcej Produkt√≥w ‚Üì
                </button>
            </div>
        </div>
    </section>


    <!-- Kontakt Section -->
    <section id="kontakt" class="py-20 lg:py-32 bg-rose-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900 font-dancing animate-fadeIn">Skontaktuj siƒô z nami</h2>
            <p class="text-gray-600 text-lg mb-8 max-w-2xl mx-auto animate-fadeIn animate-delay-1">
                Masz pytania? Chcesz z≈Ço≈ºyƒá zam√≥wienie? Napisz do nas!
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto mb-8 animate-fadeIn animate-delay-2">
                <a href="tel:+48 794 309 165" class="flex items-center justify-center gap-2 bg-rose-400 text-white px-8 py-4 rounded-full font-semibold hover:bg-rose-500 transition-all duration-300 hover:scale-105 animate-scaleIn">
                    üìû Zadzwo≈Ñ
                </a>
                <a href="mailto:swiecowelove88@gmail.com" class="flex items-center justify-center gap-2 bg-rose-400 text-white px-8 py-4 rounded-full font-semibold hover:bg-rose-500 transition-all duration-300 hover:scale-105 animate-scaleIn animate-delay-1">
                    ‚úâÔ∏è Email
                </a>
            </div>
            
            <p class="text-sm text-gray-500 mt-8 animate-fadeIn animate-delay-3">Zam√≥w ju≈º teraz i ciesz siƒô magiƒÖ ≈öwiecowe Love! ‚ú®</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <div class="animate-fadeIn">
                    <h3 class="text-2xl font-bold mb-4 font-dancing">≈öwiecowe Love</h3>
                    <p class="text-gray-400">
                        Rƒôcznie robione kwiaty z wosku i ≈õwiece, kt√≥re ≈ºyjƒÖ wiecznie. Magia w ka≈ºdym detalu.
                    </p>
                </div>
                
                <div class="animate-fadeIn animate-delay-1">
                    <h4 class="font-semibold mb-4 text-lg">Szybkie Linki</h4>
                    <ul class="space-y-2">
                        <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">Strona G≈Ç√≥wna</a></li>
                        <li><a href="#o-nas" class="text-gray-400 hover:text-white transition-colors">O Nas</a></li>
                        <li><a href="#produkty" class="text-gray-400 hover:text-white transition-colors">Produkty</a></li>
                        <li><a href="#kontakt" class="text-gray-400 hover:text-white transition-colors">Kontakt</a></li>
                    </ul>
                </div>
                
                <div class="animate-fadeIn animate-delay-2">
                    <h4 class="font-semibold mb-4 text-lg">Informacje</h4>
                    <ul class="space-y-2">
                        <li><a href="pomoc.html" target="_blank" class="text-gray-400 hover:text-white transition-colors">Pomoc</a></li>
                        <li><a href="polityka-prywatnosci.html" target="_blank" class="text-gray-400 hover:text-white transition-colors">Polityka Prywatno≈õci</a></li>
                        <li><a href="regulamin.html" target="_blank" class="text-gray-400 hover:text-white transition-colors">Regulamin</a></li>
                        <li><a href="zwroty-reklamacje.html" target="_blank" class="text-gray-400 hover:text-white transition-colors">Zwroty i Reklamacje</a></li>
                    </ul>
                    <div class="mt-6">
                        <p class="text-gray-400 mb-2">‚òé +48 794 309 165</p>
                        <p class="text-gray-400">swiecowelove88@gmail.com</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 text-center text-gray-400 animate-fadeIn animate-delay-3">
                <p>&copy; <span id="year"></span> ≈öwiecowe Love. Wszystkie prawa zastrze≈ºone.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold mb-6 text-center">Panel Admina</h3>
            <input type="password" id="admin-password" placeholder="Wprowad≈∫ has≈Ço" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg mb-4 focus:border-rose-400 focus:outline-none">
            <div class="flex gap-4">
                <button onclick="closeAdminLogin()" class="flex-1 px-6 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                    Anuluj
                </button>
                <button onclick="checkAdminPassword()" class="flex-1 px-6 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                    Zaloguj
                </button>
            </div>
            <p id="login-error" class="text-red-500 text-sm mt-4 text-center hidden">Nieprawid≈Çowe has≈Ço!</p>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="admin-panel" class="hidden fixed inset-0 bg-black/50 z-50 overflow-y-auto">
        <div class="min-h-screen py-8 px-4">
            <div class="bg-white rounded-2xl p-8 max-w-6xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-3xl font-bold">Panel ZarzƒÖdzania</h3>
                    <button onclick="closeAdminPanel()" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                        Zamknij
                    </button>
                </div>

                <!-- Tabs -->
                <div class="flex gap-2 mb-8 border-b border-gray-200 overflow-x-auto">
                    <button onclick="switchTab('hero')" id="tab-btn-hero" class="px-4 py-3 font-semibold border-b-2 border-rose-400 text-gray-900 transition-colors whitespace-nowrap">
                        üåü Sekcja Powitalna
                    </button>
                    <button onclick="switchTab('about')" id="tab-btn-about" class="px-4 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 transition-colors whitespace-nowrap">
                        üìö Nasza Historia
                    </button>
                    <button onclick="switchTab('products')" id="tab-btn-products" class="px-4 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 transition-colors whitespace-nowrap">
                        üõçÔ∏è Nasze Produkty
                    </button>
                    <button onclick="switchTab('gallery')" id="tab-btn-gallery" class="px-4 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 transition-colors whitespace-nowrap">
                        üá´Ô∏è Nasza Galeria
                    </button>
                    <button onclick="switchTab('slider')" id="tab-btn-slider" class="px-4 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 transition-colors whitespace-nowrap">
                        üé† Slider/Zdjƒôcia
                    </button>

                    <button onclick="switchTab('save')" id="tab-btn-save" class="px-4 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 transition-colors whitespace-nowrap">
                        üíæ Zapisz Zmiany
                    </button>
                </div>

                <!-- Hero Tab -->
                <div id="tab-content-hero" class="tab-content">
                    <div class="bg-cream-100 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold mb-4">Edytuj Sekcjƒô Powitaln≈Ñ</h4>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">G≈Ç√≥wny Tytu≈Ç</label>
                            <input type="text" id="hero-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Opis 1</label>
                            <textarea id="hero-desc1" rows="3" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Opis 2</label>
                            <textarea id="hero-desc2" rows="2" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Opis 3</label>
                            <textarea id="hero-desc3" rows="2" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                        </div>
                        
                        <button onclick="saveHeroData()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                            ‚úÖ Zapisz Sekcjƒô PowitalnƒÖ
                        </button>
                        
                        <p class="text-sm text-gray-500 mt-4">Zmiany zostanƒÖ zapisane po klikniƒôciu "Zapisz Zmiany" w zak≈Çadce üíæ Zapisz Zmiany</p>
                    </div>
                </div>

                <!-- About/Nasza Historia Tab -->
                <div id="tab-content-about" class="tab-content hidden">
                    <div class="bg-cream-100 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold mb-4">Edytuj Sekcjƒô "Nasza Historia"</h4>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Tytu≈Ç G≈Ç√≥wny</label>
                            <input type="text" id="about-main-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Tytu≈Ç Sekcji</label>
                            <input type="text" id="about-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Opis (Paragrafy rozdzielone dwoma enterami)</label>
                            <textarea id="about-description" rows="8" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Zdjƒôcie</label>
                            <select id="about-image" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                <option value="">Wybierz zdjƒôcie z listy...</option>
                            </select>
                            <input type="text" id="about-image-manual" placeholder="Lub wpisz nazwƒô pliku (np. nowe-zdjecie.png)" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                            <div class="mb-2">
                                <label class="block text-sm font-semibold mb-2">Lub wybierz nowe zdjƒôcie z komputera:</label>
                                <input type="file" id="about-image-upload" accept="image/*" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none" onchange="previewImage(event, 'about-image-preview-img', 'about-image-preview-container')">
                            </div>
                            <button type="button" onclick="refreshImageLists()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm">
                                üîÑ Od≈õwie≈º listƒô zdjƒôƒá
                            </button>
                            <div id="about-image-preview" class="mt-4 hidden">
                                <img src="" alt="PodglƒÖd" class="h-40 rounded-lg shadow-md">
                            </div>
                            <div id="about-image-preview-container" class="mt-4 hidden max-w-xs">
                                <p class="text-sm font-semibold mb-2 text-gray-700">PodglƒÖd wybranego zdjƒôcia:</p>
                                <img id="about-image-preview-img" src="" alt="PodglƒÖd" class="w-full h-40 object-cover rounded-lg shadow-md border border-gray-200">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-semibold mb-2">Dopasowanie Zdjƒôcia</label>
                                <select id="about-image-fit" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                    <option value="cover">Pokryj (Cover)</option>
                                    <option value="contain">Zmie≈õƒá (Contain)</option>
                                    <option value="fill">Wype≈Çnij (Fill)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2">Pozycja Zdjƒôcia</label>
                                <select id="about-image-position" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                    <option value="center center">≈örodek</option>
                                    <option value="top center">G√≥ra</option>
                                    <option value="bottom center">D√≥≈Ç</option>
                                    <option value="center left">Lewo</option>
                                    <option value="center right">Prawo</option>
                                    <option value="left center">Wyr√≥wnaj do Lewej</option>
                                    <option value="right center">Wyr√≥wnaj do Prawej</option>
                                </select>
                            </div>
                        </div>
                        
                        <button onclick="saveAboutData()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                            ‚úÖ Zapisz "Nasza Historia"
                        </button>
                        
                        <p class="text-sm text-gray-500 mt-4">Zmiany zostanƒÖ zapisane po klikniƒôciu "Zapisz Zmiany" w zak≈Çadce üíæ Zapisz Zmiany</p>
                    </div>
                </div>

                <!-- Products Tab -->
                <div id="tab-content-products" class="tab-content hidden">
                    <div class="bg-cream-100 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold mb-4">Edytuj Sekcjƒô "Nasze Produkty"</h4>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Tytu≈Ç Sekcji</label>
                            <input type="text" id="products-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Opis Sekcji</label>
                            <textarea id="products-description" rows="3" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                        </div>
                        
                        <button onclick="saveProductsData()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                            ‚úÖ Zapisz Dane Sekcji
                        </button>
                        
                        <p class="text-sm text-gray-500 mt-4">Zmiany zostanƒÖ zapisane po klikniƒôciu "Zapisz Zmiany" w zak≈Çadce üíæ Zapisz Zmiany</p>
                    </div>
                    
                    <div class="border-t-4 border-rose-300 my-8"></div>
                    
                    <!-- Add/Edit Product Form -->
                    <div class="bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-6 mb-8">
                        <h4 class="text-2xl font-bold mb-2">‚ûï Dodaj / Edytuj Produkt</h4>
                        <p class="text-gray-600 mb-6">ZarzƒÖdzaj produktami wy≈õwietlanymi w sekcji "Nasze Produkty"</p>
                        
                        <div class="bg-white rounded-xl p-6 mb-6">
                            <input type="hidden" id="edit-product-id">
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Nazwa Produktu</label>
                                <input type="text" id="product-name" placeholder="Np. Bukiet Mi≈õ z R√≥≈ºami" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Opis Produktu</label>
                                <textarea id="product-description" rows="3" placeholder="Opisz produkt..." class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none"></textarea>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Zdjƒôcie</label>
                                <select id="product-image" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                    <option value="">Wybierz zdjƒôcie z listy...</option>
                                </select>
                                <input type="text" id="product-image-manual" placeholder="Lub wpisz nazwƒô pliku (np. nowe-zdjecie.png)" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                <div class="mb-2">
                                    <label class="block text-sm font-semibold mb-2">Lub wybierz nowe zdjƒôcie z komputera:</label>
                                    <input type="file" id="product-image-upload" accept="image/*" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none" onchange="previewImage(event, 'product-image-preview-img', 'product-image-preview-container')">
                                </div>
                                <button type="button" onclick="refreshImageLists()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm">
                                    üîÑ Od≈õwie≈º listƒô zdjƒôƒá
                                </button>
                                <div id="product-image-preview" class="mt-4 hidden">
                                    <img src="" alt="PodglƒÖd" class="h-40 rounded-lg shadow-md">
                                </div>
                                <div id="product-image-preview-container" class="mt-4 hidden max-w-xs">
                                    <p class="text-sm font-semibold mb-2 text-gray-700">PodglƒÖd wybranego zdjƒôcia:</p>
                                    <img id="product-image-preview-img" src="" alt="PodglƒÖd" class="w-full h-40 object-cover rounded-lg shadow-md border border-gray-200">
                                </div>
                            </div>
                            
                            <div class="flex gap-4">
                                <button onclick="saveProduct()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                                    ‚úÖ Dodaj/Edytuj Produkt
                                </button>
                                <button onclick="clearProductForm()" class="px-8 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                                    üîÑ Wyczy≈õƒá
                                </button>
                            </div>
                            <p class="text-sm text-gray-500 mt-4"><strong>Uwaga:</strong> Po dodaniu/edycji produktu, przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby zapisaƒá wszystkie zmiany do pliku JSON.</p>
                        </div>

                        <!-- Products List -->
                        <div>
                            <h5 class="text-lg font-bold mb-4">üìã Lista Produkt√≥w</h5>
                            <div id="admin-products-list" class="space-y-4">
                                <!-- Products will be listed here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gallery/Nasza Galeria Tab -->
                <div id="tab-content-gallery" class="tab-content hidden">
                    <!-- Gallery Title Section -->
                    <div class="bg-cream-100 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold mb-4">Edytuj Tytu≈Ç Galerii</h4>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Tytu≈Ç Sekcji "Nasza Galeria"</label>
                            <input type="text" id="gallery-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                        </div>
                        
                        <button onclick="saveGalleryData()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                            ‚úÖ Zapisz Tytu≈Ç Galerii
                        </button>
                        
                        <p class="text-sm text-gray-500 mt-4">Zmiany zostanƒÖ zapisane po klikniƒôciu "Zapisz Zmiany" w zak≈Çadce üíæ Zapisz Zmiany</p>
                    </div>
                    
                    <!-- Add New Gallery Image Form -->
                    <div class="bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-6 mb-8">
                        <h4 class="text-2xl font-bold mb-2">‚ûï Dodaj Nowe Zdjƒôcie</h4>
                        <p class="text-gray-600 mb-6">Dodaj nowe zdjƒôcie do galerii</p>
                        
                        <div class="bg-white rounded-xl p-6 mb-6">
                            <input type="hidden" id="edit-gallery-image-id">
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Zdjƒôcie</label>
                                <select id="gallery-image-select" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                    <option value="">Wybierz zdjƒôcie z listy...</option>
                                </select>
                                <input type="text" id="gallery-image-manual" placeholder="Lub wpisz nazwƒô pliku (np. nowe-zdjecie.png)" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                <div class="mb-2">
                                    <label class="block text-sm font-semibold mb-2">Lub wybierz nowe zdjƒôcie z komputera:</label>
                                    <input type="file" id="gallery-image-upload" accept="image/*" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none" onchange="previewImage(event, 'gallery-image-preview-img', 'gallery-image-preview-container')">
                                </div>
                                <button type="button" onclick="refreshImageLists()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm">
                                    üîÑ Od≈õwie≈º listƒô zdjƒôƒá
                                </button>
                                <div id="gallery-image-preview" class="mt-4 hidden">
                                    <img src="" alt="PodglƒÖd" class="h-40 rounded-lg shadow-md">
                                </div>
                                <div id="gallery-image-preview-container" class="mt-4 hidden max-w-xs">
                                    <p class="text-sm font-semibold mb-2 text-gray-700">PodglƒÖd wybranego zdjƒôcia:</p>
                                    <img id="gallery-image-preview-img" src="" alt="PodglƒÖd" class="w-full h-40 object-cover rounded-lg shadow-md border border-gray-200">
                                </div>
                                <div id="gallery-image-selection-buttons" class="mt-4"></div>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Tekst Alternatywny (Alt)</label>
                                <input type="text" id="gallery-image-alt" placeholder="Opis zdjƒôcia" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-semibold mb-2">Dopasowanie Zdjƒôcia</label>
                                    <select id="gallery-image-fit" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                        <option value="cover">Pokryj (Cover)</option>
                                        <option value="contain">Zmie≈õƒá (Contain)</option>
                                        <option value="fill">Wype≈Çnij (Fill)</option>
                                        <option value="scale-down">Skaluj (Scale Down)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold mb-2">Pozycja Zdjƒôcia</label>
                                    <select id="gallery-image-position" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                        <option value="center center">≈örodek</option>
                                        <option value="top center">G√≥ra</option>
                                        <option value="bottom center">D√≥≈Ç</option>
                                        <option value="center left">Lewo</option>
                                        <option value="center right">Prawo</option>
                                        <option value="top left">G√≥rny Lewy R√≥g</option>
                                        <option value="top right">G√≥rny Prawy R√≥g</option>
                                        <option value="bottom left">Dolny Lewy R√≥g</option>
                                        <option value="bottom right">Dolny Prawy R√≥g</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="flex gap-4">
                                <button onclick="saveGalleryImage()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                                    ‚úÖ Dodaj/Edytuj Zdjƒôcie
                                </button>
                                <button onclick="clearGalleryImageForm()" class="px-8 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                                    üîÑ Wyczy≈õƒá
                                </button>
                            </div>
                            <p class="text-sm text-gray-500 mt-4"><strong>Uwaga:</strong> Po dodaniu/edycji zdjƒôcia, przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby zapisaƒá wszystkie zmiany do pliku JSON.</p>
                        </div>
                    </div>
                    
                    <!-- Gallery Images List -->
                    <div>
                        <h4 class="text-xl font-bold mb-4">üìã Lista Zdjƒôƒá w Galerii</h4>
                        <div id="gallery-images-list" class="space-y-4">
                            <!-- Gallery images will be listed here -->
                        </div>
                    </div>
                </div>

                <!-- Slider Tab -->
                <div id="tab-content-slider" class="tab-content hidden">
                    <!-- Slider Settings -->
                    <div class="bg-cream-100 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold mb-4">‚è±Ô∏è Ustawienia Slidera</h4>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold mb-2">Interwa≈Ç zmiany slajd√≥w (milisekundy)</label>
                            <input type="number" id="slider-interval" min="1000" max="60000" step="1000" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                            <p class="text-sm text-gray-500 mt-1">Domy≈õlnie 10000 ms (10 sekund)</p>
                        </div>
                        
                        <button onclick="saveSliderSettings()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                            ‚úÖ Zapisz Ustawienia Slidera
                        </button>
                        
                        <p class="text-sm text-gray-500 mt-4">Zmiany zostanƒÖ zapisane po klikniƒôciu "Zapisz Zmiany" w zak≈Çadce üíæ Zapisz Zmiany</p>
                    </div>
                    
                    <!-- Add New Slider Image Form -->
                    <div class="bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-6 mb-8">
                        <h4 class="text-2xl font-bold mb-2">‚ûï Dodaj Nowe Zdjƒôcie do Slidera</h4>
                        <p class="text-gray-600 mb-6">Dodaj nowe zdjƒôcie do karuzeli/slidera</p>
                        
                        <div class="bg-white rounded-xl p-6 mb-6">
                            <input type="hidden" id="edit-slider-image-id">
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Zdjƒôcie</label>
                                <select id="slider-image-select" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                    <option value="">Wybierz zdjƒôcie z listy...</option>
                                </select>
                                <input type="text" id="slider-image-manual" placeholder="Lub wpisz nazwƒô pliku (np. nowe-zdjecie.png)" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none mb-2">
                                <div class="mb-2">
                                    <label class="block text-sm font-semibold mb-2">Lub wybierz nowe zdjƒôcie z komputera:</label>
                                    <input type="file" id="slider-image-upload" accept="image/*" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none" onchange="previewImage(event, 'slider-image-preview-img', 'slider-image-preview-container')">
                                </div>
                                <button type="button" onclick="refreshImageLists()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm">
                                    üîÑ Od≈õwie≈º listƒô zdjƒôƒá
                                </button>
                                <div id="slider-image-preview" class="mt-4 hidden">
                                    <img src="" alt="PodglƒÖd" class="h-40 rounded-lg shadow-md">
                                </div>
                                <div id="slider-image-preview-container" class="mt-4 hidden max-w-xs">
                                    <p class="text-sm font-semibold mb-2 text-gray-700">PodglƒÖd wybranego zdjƒôcia:</p>
                                    <img id="slider-image-preview-img" src="" alt="PodglƒÖd" class="w-full h-40 object-cover rounded-lg shadow-md border border-gray-200">
                                </div>
                                <div id="slider-image-selection-buttons" class="mt-4"></div>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Tekst Alternatywny (Alt)</label>
                                <input type="text" id="slider-image-alt" placeholder="Opis zdjƒôcia" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-semibold mb-2">Dopasowanie Zdjƒôcia</label>
                                    <select id="slider-image-fit" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                        <option value="cover">Pokryj (Cover)</option>
                                        <option value="contain">Zmie≈õƒá (Contain)</option>
                                        <option value="fill">Wype≈Çnij (Fill)</option>
                                        <option value="scale-down">Skaluj (Scale Down)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold mb-2">Pozycja Zdjƒôcia</label>
                                    <select id="slider-image-position" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-rose-400 focus:outline-none">
                                        <option value="center center">≈örodek</option>
                                        <option value="top center">G√≥ra</option>
                                        <option value="bottom center">D√≥≈Ç</option>
                                        <option value="center left">Lewo</option>
                                        <option value="center right">Prawo</option>
                                        <option value="top left">G√≥rny Lewy R√≥g</option>
                                        <option value="top right">G√≥rny Prawy R√≥g</option>
                                        <option value="bottom left">Dolny Lewy R√≥g</option>
                                        <option value="bottom right">Dolny Prawy R√≥g</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="flex gap-4">
                                <button onclick="saveSliderImage()" class="px-8 py-3 bg-rose-400 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors">
                                    ‚úÖ Dodaj/Edytuj Zdjƒôcie
                                </button>
                                <button onclick="clearSliderImageForm()" class="px-8 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                                    üîÑ Wyczy≈õƒá
                                </button>
                            </div>
                            <p class="text-sm text-gray-500 mt-4"><strong>Uwaga:</strong> Po dodaniu/edycji zdjƒôcia, przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby zapisaƒá wszystkie zmiany do pliku JSON.</p>
                        </div>
                    </div>
                    
                    <!-- Slider Images List -->
                    <div>
                        <h4 class="text-xl font-bold mb-4">üìã Lista Zdjƒôƒá w Sliderze</h4>
                        <div id="slider-images-list" class="space-y-4">
                            <!-- Slider images will be listed here -->
                        </div>
                    </div>
                </div>


                <!-- Save Changes Tab -->
                <div id="tab-content-save" class="tab-content hidden">
                    <div class="bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-8 mb-8">
                        <h4 class="text-2xl font-bold mb-4 text-center">üíæ Zapisz Wszystkie Zmiany</h4>
                        <p class="text-center text-gray-600 mb-6">Kliknij poni≈ºsze przyciski, aby zapisaƒá wszystkie wprowadzone zmiany do plik√≥w JSON.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Save Site Data (Hero, About, Gallery) -->
                            <div class="bg-white rounded-lg p-6 shadow-md">
                                <h5 class="font-bold text-lg mb-3">üåü Dane Strony</h5>
                                <p class="text-sm text-gray-600 mb-4">Zapisuje zmiany w sekcjach: Sekcja Powitalna, Nasza Historia, Nasza Galeria</p>
                                <button onclick="downloadSiteDataJSON()" class="w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors">
                                    üíæ Pobierz site-data.json
                                </button>
                                <p class="text-xs text-gray-500 mt-2">Zapisz pobrany plik w folderze ze stronƒÖ</p>
                            </div>
                            

                            
                            <!-- Save All -->
                            <div class="bg-white rounded-lg p-6 shadow-md border-2 border-rose-400">
                                <h5 class="font-bold text-lg mb-3">‚ú® Wszystko Naraz</h5>
                                <p class="text-sm text-gray-600 mb-4">Pobiera wszystkie 3 pliki JSON jednocze≈õnie</p>
                                <button onclick="downloadAllJSON()" class="w-full px-6 py-3 bg-rose-500 text-white rounded-lg font-semibold hover:bg-rose-600 transition-colors">
                                    üíæ Pobierz Wszystkie Pliki
                                </button>
                                <p class="text-xs text-gray-500 mt-2">N
                            </div>
                            
                            <!-- Save Combined -->
                            <div class="bg-white rounded-lg p-6 shadow-md border-2 border-purple-400">
                                <h5 class="font-bold text-lg mb-3">üì¶ Jeden Plik Ze Wszystkim</h5>
                                <p class="text-sm text-gray-600 mb-4">Pobiera jeden plik JSON zawierajƒÖcy wszystkie dane</p>
                                <button onclick="downloadCombinedJSON()" class="w-full px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-colors">
                                    üíæ Pobierz Jeden Plik
                                </button>
                                <p class="text-xs text-gray-500 mt-2">Jeden plik zawierajƒÖcy wszystkie dane strony</p>
                            </div>
                            
                            <!-- Refresh All Content -->
                            <div class="bg-white rounded-lg p-6 shadow-md border-2 border-green-400 mt-6">
                                <h5 class="font-bold text-lg mb-3">üîÑ Od≈õwie≈º Zawarto≈õƒá</h5>
                                <p class="text-sm text-gray-600 mb-4">Za≈Çaduj ponownie wszystkie dane z plik√≥w JSON</p>
                                <button onclick="refreshAllContent()" class="w-full px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors">
                                    üîÑ Od≈õwie≈º Ca≈ÇƒÖ Stronƒô
                                </button>
                                <p class="text-xs text-gray-500 mt-2">Za≈Çaduj najnowsze dane z plik√≥w JSON</p>
                            </div>
                                    
                        
                        <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded">
                            <p class="text-sm text-yellow-800">
                                <strong>‚ö†Ô∏è Wa≈ºne:</strong> Po pobraniu plik√≥w JSON, <strong>musisz je skopiowaƒá do folderu ze stronƒÖ</strong>, aby zmiany by≈Çy widoczne na stronie.
                            </p>
                        </div>
                        
                        <!-- RESET Button -->
                        <div class="mt-8 p-6 bg-red-50 border-2 border-red-400 rounded-lg">
                            <h5 class="font-bold text-lg mb-3 text-red-700">üóëÔ∏è Usu≈Ñ Wszystkie Dane</h5>
                            <p class="text-sm text-red-600 mb-4">UWAGA: Usunie wszystkie posty i ustawienia. Ta operacja jest NIEODWRACALNA!</p>
                            <button onclick="resetAllData()" class="w-full px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors">
                                üóëÔ∏è RESET - Usu≈Ñ Wszystkie Dane
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lista zdjƒôƒá z folderu image
        // This will be dynamically populated
        let availableImages = [];
        
        // Function to dynamically scan and populate available images
        async function scanAvailableImages() {
            // List of common image filenames that might exist in the folder
            const commonImageNames = [
                // Original images from the folder
                '2stroiki.png', 'BOXLOSDKI.PNG', 'JEZU.PNG', 'Logo.ico', 'Logo.png', 'Malybox z misiem.png', 
                'babci.png', 'bialahoinka.png', 'boxitd.png', 'boxsiwcei mis.png', 'boxswiatczeny.png',
                'boxunas.png', 'cejekd.png', 'cos.png', 'dekoracje.png', 'drewno.png', 'drwno1.png',
                'emmeme.png', 'hartdwd.png', 'haryblue.png', 'harykwiatk.png', 'hoinka cos.png',
                'hoinkabiala.png', 'jezus.png', 'kccb.png', 'kochanejmamie.png', 'kochanejzonie.png',
                'kochanymrodzicompan.png', 'kwiaty.png', 'malahoinka.png', 'malybox swice.png',
                'matkaboska.png', 'matkaboska2.png', 'mememox.png', 'mis.png', 'misczarnepudlo.png',
                'misiek.png', 'mispani.png', 'mispudleko.png', 'mispurple.png', 'mjsbox.png',
                'panizhoinkamala.png', 'panzczyms.png', 'pojazd.png', 'pojazdkwiaty.png',
                'pudl2.png', 'pudlo.png', 'redkoreck.png', 'rowe2r.png', 'rower.png',
                'rowerek pani.jpg', 'rowerekpani.png', 'rowermamie.png', 'sammis.png', 'serceox.png',
                'serdecnezycienia.png', 'sreoikzmisie.png', 'stroik.png', 'swiaczenybox.png', 'tlo.png',
                'u nas box .png', 'zapachowystoik.png', 'zdjmispudelko.png', 'zyciepoo18.png',
                
                // Additional common names to check for newly added images
                'misiek.png', 'dekoracje.png', 'haryblue.png', 'pudlo.png', 'kwiaty.png', 'malahoinka.png',
                'bialahoinka.png', 'cos.png', 'drewno.png', 'drwno1.png',
                'mispani.png', 'mispudleko.png', 'mispurple.png', 
                'rowerek pani.jpg', 'zdjmispudelko.png',
                
                // Generic names for newly added images
                'nowy-produkt.png', 'nowy-produkt.jpg', 'nowy-produkt.jpeg',
                'produkt1.png', 'produkt2.png', 'produkt3.png', 'produkt4.png', 'produkt5.png',
                'produkt6.png', 'produkt7.png', 'produkt8.png', 'produkt9.png', 'produkt10.png',
                'zdjecie1.png', 'zdjecie2.png', 'zdjecie3.png', 'zdjecie4.png', 'zdjecie5.png',
                'zdjecie6.png', 'zdjecie7.png', 'zdjecie8.png', 'zdjecie9.png', 'zdjecie10.png',
                'image1.png', 'image2.png', 'image3.png', 'image4.png', 'image5.png',
                'image6.png', 'image7.png', 'image8.png', 'image9.png', 'image10.png',
                'photo1.png', 'photo2.png', 'photo3.png', 'photo4.png', 'photo5.png',
                'photo6.png', 'photo7.png', 'photo8.png', 'photo9.png', 'photo10.png',
                'box1.png', 'box2.png', 'box3.png', 'box4.png', 'box5.png',
                'box6.png', 'box7.png', 'box8.png', 'box9.png', 'box10.png'
            ];
            
            // Test which images actually exist by trying to load them
            const promises = commonImageNames.map(async (imageName) => {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => resolve(imageName);
                    img.onerror = () => resolve(null);
                    img.src = `image/${imageName}`;
                });
            });
            
            // Wait for all image loading attempts
            const results = await Promise.all(promises);
            
            // Filter out null results (images that didn't load)
            availableImages = results.filter(result => result !== null);
            
            // Remove duplicates
            availableImages = [...new Set(availableImages)];
            
            console.log(`Found ${availableImages.length} available images`);
            
            // Repopulate all image dropdowns
            repopulateAllImageDropdowns();
        }
        
        // Function to repopulate all image dropdowns
        function repopulateAllImageDropdowns() {
            populateImageSelect();
            populateAboutImageSelect();
            populateProductImageSelect();
            populateGalleryImageSelect();
            populateSliderImageSelect();
            
            // Repopulate image selection buttons if on relevant tabs
            const galleryTab = document.getElementById('tab-content-gallery');
            const sliderTab = document.getElementById('tab-content-slider');
            
            if (galleryTab && !galleryTab.classList.contains('hidden')) {
                setTimeout(() => {
                    generateImageSelectionButtons('gallery-image-selection-buttons', 'gallery-image-select', 'gallery-image-preview-img', 'gallery-image-preview-container');
                }, 100);
            }
            
            if (sliderTab && !sliderTab.classList.contains('hidden')) {
                setTimeout(() => {
                    generateImageSelectionButtons('slider-image-selection-buttons', 'slider-image-select', 'slider-image-preview-img', 'slider-image-preview-container');
                }, 100);
            }
        }

        // Sample products
        let products = [
            {
                id: '1',
                name: 'Bukiet Mi≈õ z R√≥≈ºami',
                description: 'Uroczy mi≈õ z woskowych r√≥≈º w eleganckim pude≈Çku',
                image: 'misiek.png'
            },
            {
                id: '2',
                name: 'Stroik Urodzinowy',
                description: 'Piƒôkny stroik urodzinowy z kwiatami z wosku',
                image: 'dekoracje.png'
            },
            {
                id: '3',
                name: 'Rowerek z Kwiatami',
                description: 'Dekoracyjny rowerek wype≈Çniony woskowymi kwiatami',
                image: 'rower.png'
            },
            {
                id: '4',
                name: 'Elegancki Box',
                description: 'Luksusowy box z pachnƒÖcymi ≈õwiecami',
                image: 'pudlo.png'
            },
            {
                id: '5',
                name: 'Kwiaty w Pude≈Çku',
                description: 'Wieczne kwiaty z wosku w elegankim opakowaniu',
                image: 'kwiaty.png'
            },
            {
                id: '6',
                name: '≈öwiƒÖteczna Choinka',
                description: 'Dekoracyjna choinka z woskowych ozd√≥b',
                image: 'malahoinka.png'
            }
        ];


        


        // Load products from products.json or use default
        async function loadProducts() {
            // Try to load from combined JSON file
            try {
                const response = await fetch('./swiecowe-love-complete.json?v=' + Date.now(), {cache: 'no-cache'});
                if (response.ok) {
                    const combinedData = await response.json();
                    if (combinedData.products) {
                        return combinedData.products;
                    }
                }
            } catch (error) {
                console.log('Could not load swiecowe-love-complete.json, trying products.json');
            }
            
            // Then try to load from products.json
            try {
                // First try to load from products.json
                const response = await fetch('./products.json?v=' + Date.now(), {cache: 'no-cache'});
                if (response.ok) {
                    const productsData = await response.json();
                    return productsData;
                }
            } catch (error) {
                console.log('Could not load products.json, using default products');
            }
            
            // If no products found, automatically generate products from images in the folder
            // This will scan for images and create products automatically
            return generateProductsFromImages();
        }
        
        // Automatically generate products from images in the folder
        async function generateProductsFromImages() {
            // List of known image files that should be used for products
            // In a real implementation with server-side scanning, this would be dynamic
            // For now, we'll use a predefined list of images that exist in the folder
            const imageFiles = [
                'misiek.png', 'dekoracje.png', 'haryblue.png', 'pudlo.png', 'kwiaty.png', 'malahoinka.png',
                '2stroiki.png', 'BOXLOSDKI.PNG', 'babci.png', 'boxsiwcei mis.png', 'boxswiatczeny.png',
                'boxunas.png', 'cejekd.png', 'cos.png', 'drewno.png', 'emmeme.png', 'hartdwd.png',
                'harykwiatk.png', 'hoinka cos.png', 'hoinkabiala.png', 'jezus.png', 'kccb.png',
                'kochanejmamie.png', 'kochanejzonie.png', 'kochanymrodzicompan.png', 'matkaboska.png',
                'matkaboska2.png', 'mememox.png', 'misczarnepudlo.png', 'mjsbox.png',
                'panizhoinkamala.png', 'panzczyms.png', 'pojazd.png', 'pojazdkwiaty.png',
                'pudl2.png', 'redkoreck.png', 'rowe2r.png', 'rower.png', 'rowerekpani.png',
                'rowermamie.png', 'sammis.png', 'serceox.png', 'serdecnezycienia.png', 'sreoikzmisie.png',
                'stroik.png', 'swiaczenybox.png', 'u nas box .png', 'zapachowystoik.png'
            ];
            
            // Generate products from these images
            const products = imageFiles.map((image, index) => ({
                id: `product_${index + 1}`,
                name: `Produkt ${index + 1}`,
                description: `Piƒôknie wykonany produkt z naszej kolekcji. Ka≈ºdy element jest tworzony rƒôcznie z najwy≈ºszƒÖ staranno≈õciƒÖ i pasjƒÖ.`,
                image: image
            }));
            
            // Don't save to localStorage - everything should be in JSON files
            
            return products;
        }

        // Site data object to store all editable content
        let siteData = {
            hero: {
                title: '≈öwiecowe Love',
                desc1: 'Rƒôcznie robimy kwiaty z wosku oraz ≈õwiece, r√≥wnie≈º eleganckie boxy, pachnƒÖce ≈õwiece i bukiety, kt√≥re ≈ºyjƒÖ wiecznie.',
                desc2: 'Piƒôkne, dopracowane ≈ºe robiƒÖ efekt WOW, sama magia. üïØÔ∏è‚ú®',
                desc3: '≈öwiecowe pere≈Çki od stroik√≥w urodzinowych do dekor√≥w.'
            },
            about: {
                mainTitle: 'Nasza Historia',
                title: 'Tworzone z PasjƒÖ i Mi≈Ço≈õciƒÖ',
                description: 'W ≈öwiecowe Love ka≈ºdy produkt jest tworzony rƒôcznie z najwy≈ºszƒÖ staranno≈õciƒÖ. Nasze kwiaty z wosku i ≈õwiece to nie tylko dekoracje ‚Äì to prawdziwe dzie≈Ça sztuki, kt√≥re przetrwajƒÖ pr√≥bƒô czasu.\n\nOferujemy eleganckie boxy, pachnƒÖce ≈õwiece oraz bukiety, kt√≥re nigdy nie wiednƒÖ. Ka≈ºdy element jest dopracowany w najdrobniejszych szczeg√≥≈Çach, aby wywo≈Çaƒá efekt WOW.\n\nOd stroik√≥w urodzinowych po wyrafinowane dekoracje ‚Äì nasze ≈õwiecowe pere≈Çki dodadzƒÖ magii ka≈ºdej chwili. Zam√≥w ju≈º teraz i przekonaj siƒô sam!',
                image: 'misiek.png',
                imageFit: 'cover',
                imagePosition: 'center center'
            },
            gallery: {
                title: 'Nasza Galeria',
                images: [
                    { src: 'rower.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                    { src: 'pudlo.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                    { src: 'kwiaty.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                    { src: 'misiek.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' }
                ]
            },
            products: {
                title: 'Nasze Produkty',
                description: 'Odkryj naszƒÖ kolekcjƒô rƒôcznie robionych kwiat√≥w z wosku i ≈õwiec'
            },
            slider: {
                interval: 10000, // 10 seconds
                images: [
                    { src: 'misiek.png', alt: 'Mi≈õ z r√≥≈ºami', fit: 'contain', position: 'center center' },
                    { src: 'dekoracje.png', alt: 'Dekoracje', fit: 'contain', position: 'center center' },
                    { src: 'rower.png', alt: 'Rowerek', fit: 'contain', position: 'center center' },
                    { src: 'pudlo.png', alt: 'Eleganckie pud≈Ço', fit: 'contain', position: 'center center' }
                ]
            }
        };

        async function loadSiteData() {
            // Always try to load fresh data from JSON files first
            // First try to load from combined JSON file
            try {
                const response = await fetch('./swiecowe-love-complete.json?v=' + Date.now(), {cache: 'no-cache'});
                if (response.ok) {
                    const combinedData = await response.json();
                    if (combinedData.siteData) {
                        const data = combinedData.siteData;
                        if (data.hero) siteData.hero = data.hero;
                        if (data.about) siteData.about = data.about;
                        if (data.gallery) siteData.gallery = data.gallery;
                        if (data.products) siteData.products = data.products;
                        if (data.slider) siteData.slider = data.slider;
                        return siteData;
                    }
                }
            } catch (error) {
                console.log('Could not load swiecowe-love-complete.json, trying site-data.json');
            }
            
            // Then try to load from site-data.json
            try {
                const response = await fetch('./site-data.json?v=' + Date.now(), {cache: 'no-cache'});
                if (response.ok) {
                    const data = await response.json();
                    if (data.hero) siteData.hero = data.hero;
                    if (data.about) siteData.about = data.about;
                    if (data.gallery) siteData.gallery = data.gallery;
                    if (data.products) siteData.products = data.products;
                    if (data.slider) siteData.slider = data.slider;
                    return siteData;
                }
            } catch (error) {
                console.log('Could not load site-data.json, using defaults');
            }
            
            return siteData;
        }



        // Don't save to localStorage - everything should be in JSON files
        function saveSiteData(data) {
            // Don't save to localStorage - everything should be in JSON files
            siteData = data;
            
            // Immediately refresh the UI with the new data
            renderHero();
            renderAbout();
            renderGallery();
            renderGalleryTitle();
            renderProductsSection();
            renderSlider();
        }



        // Download site-data.json file (called from Save Changes tab)
        async function downloadSiteDataJSON() {
            const dataStr = JSON.stringify(siteData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'site-data.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            alert('‚úÖ Plik site-data.json zosta≈Ç pobrany! Skopiuj go do folderu ze stronƒÖ.');
        }

        // Download products.json file (called from Save Changes tab)
        async function downloadProductsJSON() {
            const products = await loadProducts();
            const dataStr = JSON.stringify(products, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'products.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            alert('‚úÖ Plik products.json zosta≈Ç pobrany! Skopiuj go do folderu ze stronƒÖ.');
        }

        // Download all JSON files at once
        async function downloadAllJSON() {
            await downloadSiteDataJSON();
            await downloadPostsJSON();
            await downloadProductsJSON();
            alert('‚úÖ Wszystkie pliki JSON zosta≈Çy pobrane!');
        }
        
        // Download single combined JSON file with all data
        async function downloadCombinedJSON() {
            try {
                // Load all data
                const products = await loadProducts();
                
                // Create combined data object
                const combinedData = {
                    siteData: siteData,
                    products: products
                };
                
                // Convert to JSON and download
                const dataStr = JSON.stringify(combinedData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'swiecowe-love-complete.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                alert('‚úÖ Plik swiecowe-love-complete.json zosta≈Ç pobrany! Ten plik zawiera wszystkie dane strony.');
            } catch (error) {
                console.error('Error downloading combined JSON:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas pobierania pliku!');
            }
        }

        // RESET - usu≈Ñ wszystkie dane do stanu poczƒÖtkowego
        function resetAllData() {
            if (!confirm('‚ö†Ô∏è CZY NA PEWNO chcesz usunƒÖƒá WSZYSTKIE dane? Ta operacja jest nieodwracalna!')) {
                return;
            }
            
            if (!confirm('üî¥ OSTATECZNE POTWIERDZENIE: Wszystkie slajdy i ustawienia zostanƒÖ usuniƒôte!')) {
                return;
            }
            
            // Don't use localStorage - everything should be in JSON files
            
            // Reset do warto≈õci domy≈õlnych
            siteData = {
                hero: {
                    title: '≈öwiecowe Love',
                    desc1: 'Rƒôcznie robimy kwiaty z wosku oraz ≈õwiece, r√≥wnie≈º eleganckie boxy, pachnƒÖce ≈õwiece i bukiety, kt√≥re ≈ºyjƒÖ wiecznie.',
                    desc2: 'Piƒôkne, dopracowane ≈ºe robiƒÖ efekt WOW, sama magia. üïØÔ∏è‚ú®',
                    desc3: '≈öwiecowe pere≈Çki od stroik√≥w urodzinowych do dekor√≥w.'
                },
                about: {
                    mainTitle: 'Nasza Historia',
                    title: 'Tworzone z PasjƒÖ i Mi≈Ço≈õciƒÖ',
                    description: 'W ≈öwiecowe Love ka≈ºdy produkt jest tworzony rƒôcznie z najwy≈ºszƒÖ staranno≈õciƒÖ.',
                    image: 'misiek.png',
                    imageFit: 'cover',
                    imagePosition: 'center center'
                },
                gallery: {
                    title: 'Nasza Galeria',
                    images: [
                        { src: 'rower.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                        { src: 'pudlo.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                        { src: 'kwiaty.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' },
                        { src: 'misiek.png', alt: 'Nasze produkty', fit: 'cover', position: 'center center' }
                    ]
                },
                products: {
                    title: 'Nasze Produkty',
                    description: 'Odkryj naszƒÖ kolekcjƒô rƒôcznie robionych kwiat√≥w z wosku i ≈õwiec'
                },
                slider: {
                    interval: 10000, // 10 seconds
                    images: [
                        { src: 'misiek.png', alt: 'Mi≈õ z r√≥≈ºami', fit: 'contain', position: 'center center' },
                        { src: 'dekoracje.png', alt: 'Dekoracje', fit: 'contain', position: 'center center' },
                        { src: 'rower.png', alt: 'Rowerek', fit: 'contain', position: 'center center' },
                        { src: 'pudlo.png', alt: 'Eleganckie pud≈Ço', fit: 'contain', position: 'center center' }
                    ]
                }
            };
            
            // Reset products array
            const defaultProducts = [
                {
                    id: '1',
                    name: 'Bukiet Mi≈õ z R√≥≈ºami',
                    description: 'Uroczy mi≈õ z woskowych r√≥≈º w eleganckim pude≈Çku',
                    image: 'misiek.png'
                },
                {
                    id: '2',
                    name: 'Stroik Urodzinowy',
                    description: 'Piƒôkny stroik urodzinowy z kwiatami z wosku',
                    image: 'dekoracje.png'
                },
                {
                    id: '3',
                    name: 'Rowerek z Kwiatami',
                    description: 'Dekoracyjny rowerek wype≈Çniony woskowymi kwiatami',
                    image: 'rower.png'
                },
                {
                    id: '4',
                    name: 'Elegancki Box',
                    description: 'Luksusowy box z pachnƒÖcymi ≈õwiecami',
                    image: 'pudlo.png'
                },
                {
                    id: '5',
                    name: 'Kwiaty w Pude≈Çku',
                    description: 'Wieczne kwiaty z wosku w elegankim opakowaniu',
                    image: 'kwiaty.png'
                },
                {
                    id: '6',
                    name: '≈öwiƒÖteczna Choinka',
                    description: 'Dekoracyjna choinka z woskowych ozd√≥b',
                    image: 'malahoinka.png'
                }
            ];
            
            // Don't save to localStorage - everything should be in JSON files
            
            // Force refresh all sections
            renderProducts();
            renderBlogPosts();
            renderGallery();
            renderHero();
            renderAbout();
            renderGalleryTitle();
            renderProductsSection();
            renderSlider();
            
            alert('‚úÖ Wszystkie dane zosta≈Çy zresetowane!');
        }
        
        // Render blog posts function (placeholder)
        async function renderBlogPosts() {
            // Placeholder function - can be implemented later if needed
            console.log('Rendering blog posts (if any)');
            return Promise.resolve();
        }

        // Render products
        let currentProducts = [];
        // Carousel variables
        let currentProductIndex = 0;
        let productsPerPage = window.innerWidth < 768 ? 1 : 3; // 1 for mobile, 3 for desktop
        let totalProductPages = 0;
        let carouselInterval;
        let isCarouselPaused = false;
        
        async function renderProducts() {
            try {
                // Load products from JSON files only
                currentProducts = await loadProducts();
                
                const track = document.getElementById('products-track');
                const dotsContainer = document.getElementById('carousel-dots');
                const prevBtn = document.getElementById('prev-product-btn');
                const nextBtn = document.getElementById('next-product-btn');
                const loadMoreContainer = document.getElementById('load-more-container');
                
                if (!track) return;
                track.innerHTML = '';
                
                // Calculate responsive products per page
                const screenWidth = window.innerWidth;
                if (screenWidth < 768) {
                    productsPerPage = 1; // Mobile
                } else if (screenWidth < 1024) {
                    productsPerPage = 2; // Tablet
                } else {
                    productsPerPage = 3; // Desktop
                }
                
                totalProductPages = Math.ceil(currentProducts.length / productsPerPage);
                
                // Create product slides
                for (let i = 0; i < currentProducts.length; i++) {
                    const product = currentProducts[i];
                    const productCard = document.createElement('div');
                    productCard.className = 'carousel-item px-2';
                    productCard.innerHTML = `
                        <div class="group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 h-full flex flex-col">
                            <div class="relative product-image-container h-[500px] w-full max-w-[364px] overflow-hidden mx-auto" style="max-width: 364px;" >
                                <img src="image/${product.image}" alt="${product.name}" class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-500" loading="lazy">
                            </div>
                            <div class="p-6 flex-grow flex flex-col">
                                <h3 class="text-2xl font-bold text-gray-900 mb-2">${product.name}</h3>
                                <p class="text-gray-600 mb-4 flex-grow">${product.description}</p>
                                <a href="#kontakt" class="inline-flex items-center gap-2 bg-rose-400 text-white px-6 py-3 rounded-full font-semibold hover:bg-rose-500 transition-all duration-300 hover:scale-105 mt-auto w-max">
                                    üíï Zam√≥w Teraz
                                </a>
                            </div>
                        </div>
                    `;
                    track.appendChild(productCard);
                }
                
                // Create dots
                if (dotsContainer) {
                    dotsContainer.innerHTML = '';
                    for (let i = 0; i < totalProductPages; i++) {
                        const dot = document.createElement('div');
                        dot.className = `carousel-dot ${i === 0 ? 'active' : ''}`;
                        dot.dataset.index = i;
                        dot.addEventListener('click', () => goToProductSlide(i));
                        dotsContainer.appendChild(dot);
                    }
                }
                
                // Update button visibility
                if (prevBtn) {
                    prevBtn.style.display = totalProductPages > 1 ? 'block' : 'none';
                }
                if (nextBtn) {
                    nextBtn.style.display = totalProductPages > 1 ? 'block' : 'none';
                }
                
                // Hide load more button since we're using carousel
                if (loadMoreContainer) {
                    loadMoreContainer.classList.add('hidden');
                }
                
                // Update carousel position and initialize auto-rotation
                updateProductCarousel();
                initCarouselAutoRotation();
            } catch (error) {
                console.error('Error rendering products:', error);
            }
        }
        
        // Update product carousel position
        function updateProductCarousel() {
            const track = document.getElementById('products-track');
            if (!track) return;
            
            const translateX = -(currentProductIndex * 100); // Move by 100% per slide
            track.style.transform = `translateX(${translateX}%)`;
            
            // Update active dot
            const dots = document.querySelectorAll('#carousel-dots .carousel-dot');
            dots.forEach((dot, index) => {
                if (index === currentProductIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // Go to next product slide
        function nextProductSlide() {
            if (currentProductIndex < totalProductPages - 1) {
                currentProductIndex++;
                updateProductCarousel();
                resetCarouselTimer();
            }
        }
        
        // Go to previous product slide
        function prevProductSlide() {
            if (currentProductIndex > 0) {
                currentProductIndex--;
                updateProductCarousel();
                resetCarouselTimer();
            }
        }
        
        // Go to specific product slide
        function goToProductSlide(index) {
            currentProductIndex = index;
            updateProductCarousel();
            resetCarouselTimer();
        }
        
        // Reset carousel timer after user interaction
        function resetCarouselTimer() {
            clearInterval(carouselInterval);
            initCarouselAutoRotation();
        }
        
        // Handle window resize for responsive carousel
        function handleResize() {
            renderProducts(); // Re-render to adjust for new screen size
        }
        
        // Add event listener for window resize
        window.addEventListener('resize', handleResize);
        
        // Initialize carousel auto-rotation
        function initCarouselAutoRotation() {
            clearInterval(carouselInterval);
            carouselInterval = setInterval(() => {
                if (!isCarouselPaused && totalProductPages > 1) {
                    if (currentProductIndex < totalProductPages - 1) {
                        currentProductIndex++;
                    } else {
                        currentProductIndex = 0; // Loop back to first slide
                    }
                    updateProductCarousel();
                }
            }, 5000); // Rotate every 5 seconds
        }
        
        // Pause carousel on hover and initialize
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.getElementById('products-carousel');
            if (carousel) {
                carousel.addEventListener('mouseenter', () => {
                    isCarouselPaused = true;
                });
                
                carousel.addEventListener('mouseleave', () => {
                    isCarouselPaused = false;
                });
            }
            
            // Initialize auto-rotation after a short delay to ensure products are loaded
            setTimeout(() => {
                initCarouselAutoRotation();
            }, 100);
        });
        
        // Carousel replaces the load more functionality
        // function loadMoreProducts() is no longer needed



        // Gallery rendering function
        function renderGallery() {
            const grid = document.getElementById('gallery-images-grid');
            if (!grid || !siteData.gallery || !siteData.gallery.images) return;
            
            grid.innerHTML = '';
            
            siteData.gallery.images.forEach((image, index) => {
                const imageDiv = document.createElement('div');
                // Add animation classes with staggered delays
                const delayClass = `animate-delay-${(index % 4) + 1}`;
                imageDiv.className = `rounded-2xl overflow-hidden shadow-2xl aspect-square animate-fadeIn ${delayClass}`;
                
                const img = document.createElement('img');
                img.src = `image/${image.src}`;
                img.alt = image.alt;
                img.className = 'w-full h-full object-cover';
                img.style.objectFit = image.fit || 'cover';
                img.style.objectPosition = image.position || 'center center';
                img.loading = 'lazy';
                
                imageDiv.appendChild(img);
                grid.appendChild(imageDiv);
            });
        }

        // Slider rendering function
        let sliderInterval;
        let currentSlideIndex = 0;
        
        function renderSlider() {
            const sliderContainer = document.getElementById('slider-container');
            if (!sliderContainer || !siteData.slider || !siteData.slider.images) return;
            
            // Clear previous content
            sliderContainer.innerHTML = '';
            
            // Create slider wrapper
            const sliderWrapper = document.createElement('div');
            sliderWrapper.className = 'relative w-full min-h-[300px] md:min-h-[500px] rounded-2xl overflow-hidden shadow-2xl';
            
            // Create slides container
            const slidesContainer = document.createElement('div');
            slidesContainer.className = 'flex transition-transform duration-500 ease-in-out';
            slidesContainer.id = 'slides-container';
            
            // Create slides
            siteData.slider.images.forEach((image, index) => {
                const slide = document.createElement('div');
                slide.className = 'w-full flex-shrink-0 flex items-center justify-center min-h-[300px] md:min-h-[500px]'; // Added flex alignment and min-height
                
                const img = document.createElement('img');
                img.src = `image/${image.src}`;
                img.alt = image.alt;
                img.className = 'max-w-full max-h-full object-contain w-auto h-auto'; // Allow images to size naturally while constraining to container
                img.style.objectFit = image.fit || 'contain';
                img.style.objectPosition = image.position || 'center center';
                img.loading = 'lazy';
                
                slide.appendChild(img);
                slidesContainer.appendChild(slide);
            });
            
            sliderWrapper.appendChild(slidesContainer);
            
            // Create indicators
            const indicatorsContainer = document.createElement('div');
            indicatorsContainer.className = 'absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2';
            
            siteData.slider.images.forEach((_, index) => {
                const indicator = document.createElement('button');
                indicator.className = `w-3 h-3 rounded-full transition-colors ${index === 0 ? 'bg-white' : 'bg-white/50'}`;
                indicator.setAttribute('aria-label', `Przejd≈∫ do slajdu ${index + 1}`);
                indicator.onclick = () => goToSlide(index);
                indicatorsContainer.appendChild(indicator);
            });
            
            sliderWrapper.appendChild(indicatorsContainer);
            
            // Add navigation arrows
            const prevButton = document.createElement('button');
            prevButton.className = 'absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 transition-colors';
            prevButton.innerHTML = '&#10094;';
            prevButton.onclick = prevSlide;
            sliderWrapper.appendChild(prevButton);
            
            const nextButton = document.createElement('button');
            nextButton.className = 'absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 transition-colors';
            nextButton.innerHTML = '&#10095;';
            nextButton.onclick = nextSlide;
            sliderWrapper.appendChild(nextButton);
            
            sliderContainer.appendChild(sliderWrapper);
            
            // Start auto sliding
            startSlider();
        }
        
        function startSlider() {
            // Clear any existing interval
            if (sliderInterval) {
                clearInterval(sliderInterval);
            }
            
            // Set new interval
            sliderInterval = setInterval(() => {
                nextSlide();
            }, siteData.slider.interval || 10000);
        }
        
        function goToSlide(index) {
            const slidesContainer = document.getElementById('slides-container');
            if (!slidesContainer) return;
            
            currentSlideIndex = index;
            const slideWidth = slidesContainer.parentElement.clientWidth;
            slidesContainer.style.transform = `translateX(-${index * slideWidth}px)`;
            
            // Update indicators
            const indicators = slidesContainer.parentElement.querySelectorAll('[aria-label^="Przejd≈∫ do slajdu"]');
            indicators.forEach((indicator, i) => {
                indicator.className = `w-3 h-3 rounded-full transition-colors ${i === index ? 'bg-white' : 'bg-white/50'}`;
            });
            
            // Restart interval
            startSlider();
        }
        
        function nextSlide() {
            const totalSlides = siteData.slider.images.length;
            currentSlideIndex = (currentSlideIndex + 1) % totalSlides;
            goToSlide(currentSlideIndex);
        }
        
        function prevSlide() {
            const totalSlides = siteData.slider.images.length;
            currentSlideIndex = (currentSlideIndex - 1 + totalSlides) % totalSlides;
            goToSlide(currentSlideIndex);
        }

        // Admin functions
        function showAdminLogin() {
            document.getElementById('admin-login-modal').classList.remove('hidden');
        }

        function closeAdminLogin() {
            document.getElementById('admin-login-modal').classList.add('hidden');
            document.getElementById('admin-password').value = '';
            document.getElementById('login-error').classList.add('hidden');
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const button = document.getElementById('mobile-menu-button');
            
            // Prevent errors if elements don't exist
            if (!mobileMenu || !button) {
                return;
            }
            
            if (mobileMenu.classList.contains('hidden')) {
                // Change hamburger to X icon first for smooth transition
                button.innerHTML = `
                    <svg class="h-6 w-6 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                `;
                // Small delay to ensure icon change before showing menu
                setTimeout(() => {
                    mobileMenu.classList.remove('hidden');
                }, 10);
            } else {
                mobileMenu.classList.add('hidden');
                // Change X back to hamburger icon
                setTimeout(() => {
                    button.innerHTML = `
                        <svg class="h-6 w-6 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    `;
                }, 300);
            }
        }

        async function checkAdminPassword() {
            const password = document.getElementById('admin-password').value;
            if (password === '20082008') {
                closeAdminLogin();
                await openAdminPanel();
            } else {
                document.getElementById('login-error').classList.remove('hidden');
            }
        }

        async function openAdminPanel() {
            document.getElementById('admin-panel').classList.remove('hidden');
            populateImageSelect();
            populateAboutImageSelect();
            populateProductImageSelect();
            populateGalleryImageSelect();
            populateSliderImageSelect();
            // renderAdminPostsList(); // Placeholder - can be implemented later if needed
            renderAdminProductsList();
            renderAdminGalleryImagesList();
            renderAdminSliderImagesList();
            loadHeroData();
            loadAboutData();
            await loadGalleryData();
            await loadSliderData();
            loadProductsData();
            
            // Generate image selection buttons for all tabs
            setTimeout(() => {
                generateImageSelectionButtons('product-image-selection-buttons', 'product-image-select', 'product-image-preview-img', 'product-image-preview-container');
                generateImageSelectionButtons('gallery-image-selection-buttons', 'gallery-image-select', 'gallery-image-preview-img', 'gallery-image-preview-container');
                generateImageSelectionButtons('slider-image-selection-buttons', 'slider-image-select', 'slider-image-preview-img', 'slider-image-preview-container');
            }, 100);
        }

        function closeAdminPanel() {
            document.getElementById('admin-panel').classList.add('hidden');
        }

        // Tab switching
        function switchTab(tabName) {
            // Update tab buttons
            const buttons = document.querySelectorAll('[id^="tab-btn-"]');
            buttons.forEach(btn => {
                btn.classList.remove('border-rose-400', 'text-gray-900');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            const activeBtn = document.getElementById(`tab-btn-${tabName}`);
            if (activeBtn) {
                activeBtn.classList.add('border-rose-400', 'text-gray-900');
                activeBtn.classList.remove('border-transparent', 'text-gray-500');
            }
            
            // Update tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.add('hidden'));
            
            const activeContent = document.getElementById(`tab-content-${tabName}`);
            if (activeContent) {
                activeContent.classList.remove('hidden');
                
                // Load image data for specific tabs
                if (tabName === 'gallery') {
                    populateGalleryImageSelect();
                    // Refresh admin gallery list when switching to gallery tab
                    renderAdminGalleryImagesList();
                    // Generate image selection buttons
                    setTimeout(() => {
                        generateImageSelectionButtons('gallery-image-selection-buttons', 'gallery-image-select', 'gallery-image-preview-img', 'gallery-image-preview-container');
                    }, 100);
                } else if (tabName === 'slider') {
                    populateSliderImageSelect();
                    // Refresh admin slider list when switching to slider tab
                    renderAdminSliderImagesList();
                    // Generate image selection buttons
                    setTimeout(() => {
                        generateImageSelectionButtons('slider-image-selection-buttons', 'slider-image-select', 'slider-image-preview-img', 'slider-image-preview-container');
                    }, 100);
                } else if (tabName === 'about') {
                    populateAboutImageSelect();
                } else if (tabName === 'products') {
                    populateProductImageSelect();
                    // Refresh admin products list when switching to products tab
                    renderAdminProductsList();
                    // Generate image selection buttons for products
                    setTimeout(() => {
                        generateImageSelectionButtons('product-image-selection-buttons', 'product-image-select', 'product-image-preview-img', 'product-image-preview-container');
                    }, 100);
                }
            }
        }



        function populateSliderImageSelect() {
            const select = document.getElementById('slider-image-select');
            if (!select) return;
            select.innerHTML = '<option value="">Wybierz zdjƒôcie...</option>';
            availableImages.forEach(img => {
                const option = document.createElement('option');
                option.value = img;
                option.textContent = img;
                select.appendChild(option);
            });
        }

        function populateAboutImageSelect() {
            const select = document.getElementById('about-image');
            if (!select) return;
            select.innerHTML = '<option value="">Wybierz zdjƒôcie...</option>';
            availableImages.forEach(img => {
                const option = document.createElement('option');
                option.value = img;
                option.textContent = img;
                select.appendChild(option);
            });
        }

        function populateProductImageSelect() {
            const select = document.getElementById('product-image');
            if (!select) return;
            select.innerHTML = '<option value="">Wybierz zdjƒôcie...</option>';
            availableImages.forEach(img => {
                const option = document.createElement('option');
                option.value = img;
                option.textContent = img;
                select.appendChild(option);
            });
        }

        // This function is kept for backward compatibility but no longer used
        function populateGallerySlideImageSelect() {
            // No longer needed as we've replaced slider with gallery management
            console.log('populateGallerySlideImageSelect is deprecated');
        }

        // Image preview
        document.addEventListener('DOMContentLoaded', function() {
            const imageSelect = document.getElementById('post-image');
            if (imageSelect) {
                imageSelect.addEventListener('change', function() {
                    const preview = document.getElementById('image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // About image preview
            const aboutImageSelect = document.getElementById('about-image');
            const aboutImageManual = document.getElementById('about-image-manual');
            
            if (aboutImageSelect) {
                aboutImageSelect.addEventListener('change', function() {
                    const preview = document.getElementById('about-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync manual input field
                        if (aboutImageManual) {
                            aboutImageManual.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // Manual input field preview for About section
            if (aboutImageManual) {
                aboutImageManual.addEventListener('input', function() {
                    const preview = document.getElementById('about-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync select dropdown if image exists in availableImages
                        if (aboutImageSelect && availableImages.includes(this.value)) {
                            aboutImageSelect.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            

            
            // Product image preview
            const productImageSelect = document.getElementById('product-image');
            const productImageManual = document.getElementById('product-image-manual');
            
            if (productImageSelect) {
                productImageSelect.addEventListener('change', function() {
                    const preview = document.getElementById('product-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync manual input field
                        if (productImageManual) {
                            productImageManual.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // Manual input field preview
            if (productImageManual) {
                productImageManual.addEventListener('input', function() {
                    const preview = document.getElementById('product-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync select dropdown if image exists in availableImages
                        if (productImageSelect && availableImages.includes(this.value)) {
                            productImageSelect.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // Gallery image preview
            const galleryImageSelect = document.getElementById('gallery-image-select');
            const galleryImageManual = document.getElementById('gallery-image-manual');
            
            if (galleryImageSelect) {
                galleryImageSelect.addEventListener('change', function() {
                    const preview = document.getElementById('gallery-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync manual input field
                        if (galleryImageManual) {
                            galleryImageManual.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // Manual input field preview for Gallery section
            if (galleryImageManual) {
                galleryImageManual.addEventListener('input', function() {
                    const preview = document.getElementById('gallery-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                        // Sync select dropdown if image exists in availableImages
                        if (galleryImageSelect && availableImages.includes(this.value)) {
                            galleryImageSelect.value = this.value;
                        }
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
            
            // Slider image preview
            const sliderImageSelect = document.getElementById('slider-image-select');
            if (sliderImageSelect) {
                sliderImageSelect.addEventListener('change', function() {
                    const preview = document.getElementById('slider-image-preview');
                    const img = preview.querySelector('img');
                    if (this.value) {
                        img.src = 'image/' + this.value;
                        preview.classList.remove('hidden');
                    } else {
                        preview.classList.add('hidden');
                    }
                });
            }
        });

        // Load Hero data into form
        function loadHeroData() {
            document.getElementById('hero-title').value = siteData.hero.title;
            document.getElementById('hero-desc1').value = siteData.hero.desc1;
            document.getElementById('hero-desc2').value = siteData.hero.desc2;
            document.getElementById('hero-desc3').value = siteData.hero.desc3;
        }

        // Load About data into form
        function loadAboutData() {
            document.getElementById('about-main-title').value = siteData.about.mainTitle;
            document.getElementById('about-title').value = siteData.about.title;
            document.getElementById('about-description').value = siteData.about.description;
            document.getElementById('about-image').value = siteData.about.image;
            document.getElementById('about-image-manual').value = siteData.about.image;
            
            // Set default values for image fit/position if not present
            document.getElementById('about-image-fit').value = siteData.about.imageFit || 'cover';
            document.getElementById('about-image-position').value = siteData.about.imagePosition || 'center center';
            
            if (siteData.about.image) {
                const preview = document.getElementById('about-image-preview');
                preview.querySelector('img').src = 'image/' + siteData.about.image;
                preview.classList.remove('hidden');
            }
        }



        // Save Hero data (called on tab switch or manually)
        function saveHeroData() {
            siteData.hero.title = document.getElementById('hero-title').value;
            siteData.hero.desc1 = document.getElementById('hero-desc1').value;
            siteData.hero.desc2 = document.getElementById('hero-desc2').value;
            siteData.hero.desc3 = document.getElementById('hero-desc3').value;
            saveSiteData(siteData);
            renderHero();
        }

        // Save About data
        function saveAboutData() {
            siteData.about.mainTitle = document.getElementById('about-main-title').value;
            siteData.about.title = document.getElementById('about-title').value;
            siteData.about.description = document.getElementById('about-description').value;
            
            // Get image from select dropdown or manual input
            let image = document.getElementById('about-image').value;
            if (!image) {
                image = document.getElementById('about-image-manual').value.trim();
            }
            
            // Check if an image was uploaded
            const imageUpload = document.getElementById('about-image-upload');
            if (imageUpload.files && imageUpload.files[0]) {
                alert('‚ö†Ô∏è Uwaga: Wybrano plik z komputera. Po zapisaniu zmian pamiƒôtaj, aby rƒôcznie przes≈Çaƒá ten plik do folderu "image" na serwerze i u≈ºyƒá jego nazwy w konfiguracji.');
                // For now, we'll still use the image field, but inform the user
            }
            
            siteData.about.image = image;
            
            siteData.about.imageFit = document.getElementById('about-image-fit').value;
            siteData.about.imagePosition = document.getElementById('about-image-position').value;
            saveSiteData(siteData);
            renderAbout();
        }

        // Save Gallery data
        function saveGalleryData() {
            siteData.gallery.title = document.getElementById('gallery-title').value;
            saveSiteData(siteData);
            renderGalleryTitle();
        }
        
        // Load Gallery data into form
        async function loadGalleryData() {
            // Load fresh data from JSON files
            await loadSiteData();
            document.getElementById('gallery-title').value = siteData.gallery.title;
            renderAdminGalleryImagesList();
        }
        
        // Load Slider data into form
        async function loadSliderData() {
            // Load fresh data from JSON files
            await loadSiteData();
            document.getElementById('slider-interval').value = siteData.slider.interval || 10000;
            renderAdminSliderImagesList();
        }
        
        // Save Slider settings
        function saveSliderSettings() {
            const interval = document.getElementById('slider-interval').value;
            if (interval && interval >= 1000 && interval <= 60000) {
                siteData.slider.interval = parseInt(interval);
                saveSiteData(siteData);
                renderSlider();
                alert('‚úÖ Ustawienia slidera zosta≈Çy zapisane! Przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby pobraƒá plik JSON.');
            } else {
                alert('‚ùå Interwa≈Ç musi byƒá liczbƒÖ miƒôdzy 1000 a 60000 milisekund!');
            }
        }
        
        // Save slider image
        function saveSliderImage() {
            try {
                // Check if admin is logged in
                if (document.getElementById('admin-panel').classList.contains('hidden')) {
                    alert('Musisz siƒô zalogowaƒá jako administrator, aby dodaƒá/edytowaƒá zdjƒôcia!');
                    return;
                }
                
                let src = document.getElementById('slider-image-select').value;
                
                // If no image selected from dropdown, use manual input
                if (!src) {
                    src = document.getElementById('slider-image-manual').value.trim();
                }
                
                // Check if an image was uploaded
                const imageUpload = document.getElementById('slider-image-upload');
                if (imageUpload && imageUpload.files && imageUpload.files[0]) {
                    alert('‚ö†Ô∏è Uwaga: Wybrano plik z komputera. Po zapisaniu zmian pamiƒôtaj, aby rƒôcznie przes≈Çaƒá ten plik do folderu "image" na serwerze i u≈ºyƒá jego nazwy w konfiguracji.');
                    // For now, we'll still use the src field, but inform the user
                }
                
                const alt = document.getElementById('slider-image-alt').value.trim();
                const fit = document.getElementById('slider-image-fit').value;
                const position = document.getElementById('slider-image-position').value;
                const editId = document.getElementById('edit-slider-image-id').value;
                
                if (!src) {
                    alert('‚ùå Wybierz zdjƒôcie lub wpisz nazwƒô pliku!');
                    return;
                }
                
                // Initialize images array if it doesn't exist
                if (!siteData.slider.images) {
                    siteData.slider.images = [];
                }
                
                const sliderImage = {
                    src: src,
                    alt: alt || 'Zdjƒôcie slidera',
                    fit: fit || 'contain',
                    position: position || 'center center'
                };
                
                if (editId) {
                    // Edit existing image
                    const index = parseInt(editId);
                    if (index >= 0 && index < siteData.slider.images.length) {
                        siteData.slider.images[index] = sliderImage;
                    }
                } else {
                    // Add new image
                    siteData.slider.images.push(sliderImage);
                }
                
                // Don't save to localStorage - everything should be in JSON files
                saveSiteData(siteData);
                
                // Refresh UI
                renderSlider();
                renderAdminSliderImagesList();
                clearSliderImageForm();
                alert('‚úÖ Zdjƒôcie zosta≈Ço dodane/edytowane! Przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby pobraƒá plik JSON.');
            } catch (error) {
                console.error('Error saving slider image:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas zapisywania zdjƒôcia!');
            }
        }
        
        // Edit slider image
        function editSliderImage(index) {
            try {
                if (!siteData.slider.images || index < 0 || index >= siteData.slider.images.length) {
                    return;
                }
                
                const image = siteData.slider.images[index];
                
                document.getElementById('edit-slider-image-id').value = index;
                document.getElementById('slider-image-select').value = image.src;
                document.getElementById('slider-image-alt').value = image.alt;
                document.getElementById('slider-image-fit').value = image.fit;
                document.getElementById('slider-image-position').value = image.position;
                
                // Show preview
                const preview = document.getElementById('slider-image-preview');
                if (preview) {
                    const img = preview.querySelector('img');
                    if (img) {
                        img.src = 'image/' + image.src;
                        preview.classList.remove('hidden');
                    }
                }
                
                // Scroll to form
                const form = document.querySelector('#tab-content-slider .bg-white');
                if (form) form.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                console.error('Error editing slider image:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas edycji zdjƒôcia!');
            }
        }
        
        // Delete slider image
        function deleteSliderImage(index) {
            if (confirm('Czy na pewno chcesz usunƒÖƒá to zdjƒôcie ze slidera?')) {
                try {
                    if (!siteData.slider.images || index < 0 || index >= siteData.slider.images.length) {
                        return;
                    }
                    
                    // Remove the image
                    siteData.slider.images.splice(index, 1);
                    
                    // Don't save to localStorage - everything should be in JSON files
                    saveSiteData(siteData);
                    
                    // Refresh UI
                    renderSlider();
                    renderAdminSliderImagesList();
                    alert('‚úÖ Zdjƒôcie zosta≈Ço usuniƒôte!');
                } catch (error) {
                    console.error('Error deleting slider image:', error);
                    alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas usuwania zdjƒôcia!');
                }
            }
        }
        
        // Clear slider image form
        function clearSliderImageForm() {
            try {
                const select = document.getElementById('slider-image-select');
                const altInput = document.getElementById('slider-image-alt');
                const fitSelect = document.getElementById('slider-image-fit');
                const positionSelect = document.getElementById('slider-image-position');
                const editIdInput = document.getElementById('edit-slider-image-id');
                
                if (select) select.value = '';
                if (altInput) altInput.value = '';
                if (fitSelect) fitSelect.value = 'contain';
                if (positionSelect) positionSelect.value = 'center center';
                if (editIdInput) editIdInput.value = '';
                
                const preview = document.getElementById('slider-image-preview');
                if (preview) preview.classList.add('hidden');
            } catch (error) {
                console.error('Error clearing slider image form:', error);
            }
        }
        
        // Render admin slider images list
        function renderAdminSliderImagesList() {
            try {
                const container = document.getElementById('slider-images-list');
                if (!container) return;
                container.innerHTML = '';
                
                if (!siteData.slider.images || siteData.slider.images.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center">Brak zdjƒôƒá w sliderze.</p>';
                    return;
                }
                
                siteData.slider.images.forEach((image, index) => {
                    const imageItem = document.createElement('div');
                    imageItem.className = 'flex items-center gap-4 bg-white p-4 rounded-lg shadow-md';
                    
                    const img = document.createElement('img');
                    img.src = `image/${image.src}`;
                    img.alt = image.alt;
                    img.className = 'w-24 h-24 object-cover rounded-lg';
                    
                    const contentDiv = document.createElement('div');
                    contentDiv.className = 'flex-1';
                    
                    const title = document.createElement('h5');
                    title.className = 'font-bold text-lg';
                    title.textContent = image.src;
                    
                    const description = document.createElement('p');
                    description.className = 'text-gray-600 text-sm';
                    description.textContent = `Alt: ${image.alt} | Fit: ${image.fit} | Position: ${image.position}`;
                    
                    contentDiv.appendChild(title);
                    contentDiv.appendChild(description);
                    
                    const buttonsDiv = document.createElement('div');
                    buttonsDiv.className = 'flex gap-2';
                    
                    const editButton = document.createElement('button');
                    editButton.className = 'px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors';
                    editButton.textContent = '‚úèÔ∏è Edytuj';
                    editButton.onclick = () => editSliderImage(index);
                    
                    const deleteButton = document.createElement('button');
                    deleteButton.className = 'px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors';
                    deleteButton.textContent = 'üóëÔ∏è Usu≈Ñ';
                    deleteButton.onclick = () => deleteSliderImage(index);
                    
                    buttonsDiv.appendChild(editButton);
                    buttonsDiv.appendChild(deleteButton);
                    
                    imageItem.appendChild(img);
                    imageItem.appendChild(contentDiv);
                    imageItem.appendChild(buttonsDiv);
                    
                    container.appendChild(imageItem);
                });
            } catch (error) {
                console.error('Error rendering admin slider images list:', error);
            }
        }
        
        // Populate gallery image select
        function populateGalleryImageSelect() {
            const select = document.getElementById('gallery-image-select');
            if (!select) return;
            select.innerHTML = '<option value="">Wybierz zdjƒôcie...</option>';
            availableImages.forEach(img => {
                const option = document.createElement('option');
                option.value = img;
                option.textContent = img;
                select.appendChild(option);
            });
        }
        
        // Select image function
        function selectImage(imageSrc, inputId, previewId, previewContainerId) {
            // Set the selected image in the input field
            const inputField = document.getElementById(inputId);
            if (inputField) {
                inputField.value = imageSrc;
                
                // Update preview if preview elements exist
                const previewImg = document.getElementById(previewId);
                const previewContainer = document.getElementById(previewContainerId);
                
                if (previewImg) {
                    previewImg.src = 'image/' + imageSrc;
                }
                
                if (previewContainer) {
                    previewContainer.classList.remove('hidden');
                }
                
                // Trigger change event to update any listeners
                inputField.dispatchEvent(new Event('change'));
            }
        }
        
        // Generate image selection buttons
        function generateImageSelectionButtons(containerId, inputId, previewId, previewContainerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Clear existing buttons
            container.innerHTML = '';
            
            // Add title
            const title = document.createElement('h5');
            title.className = 'text-sm font-semibold mb-2';
            title.textContent = 'Lub wybierz jedno z dostƒôpnych zdjƒôƒá:';
            container.appendChild(title);
            
            // Create grid for image buttons
            const grid = document.createElement('div');
            grid.className = 'grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 max-h-60 overflow-y-auto p-2 border rounded-lg';
            
            // Add buttons for each available image
            availableImages.slice(0, 30).forEach(img => {
                const button = document.createElement('button');
                button.type = 'button';
                button.className = 'p-1 rounded border hover:border-rose-400 transition-colors';
                button.title = img;
                button.onclick = () => selectImage(img, inputId, previewId, previewContainerId);
                
                const imgElement = document.createElement('img');
                imgElement.src = 'image/' + img;
                imgElement.alt = img;
                imgElement.className = 'w-full h-16 object-cover rounded';
                imgElement.onerror = function() {
                    // If image fails to load, show a placeholder
                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iMzIiIHk9IjMyIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+PzwvdGV4dD48L3N2Zz4=';
                };
                
                button.appendChild(imgElement);
                grid.appendChild(button);
            });
            
            container.appendChild(grid);
        }
        
        // Save gallery image
        function saveGalleryImage() {
            try {
                // Check if admin is logged in
                if (document.getElementById('admin-panel').classList.contains('hidden')) {
                    alert('Musisz siƒô zalogowaƒá jako administrator, aby dodaƒá/edytowaƒá zdjƒôcia!');
                    return;
                }
                
                let src = document.getElementById('gallery-image-select').value;
                
                // If no image selected from dropdown, use manual input
                if (!src) {
                    src = document.getElementById('gallery-image-manual').value.trim();
                }
                
                // Check if an image was uploaded
                const imageUpload = document.getElementById('gallery-image-upload');
                if (imageUpload.files && imageUpload.files[0]) {
                    alert('‚ö†Ô∏è Uwaga: Wybrano plik z komputera. Po zapisaniu zmian pamiƒôtaj, aby rƒôcznie przes≈Çaƒá ten plik do folderu "image" na serwerze i u≈ºyƒá jego nazwy w konfiguracji.');
                    // For now, we'll still use the src field, but inform the user
                }
                
                const alt = document.getElementById('gallery-image-alt').value.trim();
                const fit = document.getElementById('gallery-image-fit').value;
                const position = document.getElementById('gallery-image-position').value;
                const editId = document.getElementById('edit-gallery-image-id').value;
                
                if (!src) {
                    alert('‚ùå Wybierz zdjƒôcie lub wpisz nazwƒô pliku!');
                    return;
                }
                
                // Initialize images array if it doesn't exist
                if (!siteData.gallery.images) {
                    siteData.gallery.images = [];
                }
                
                const galleryImage = {
                    src: src,
                    alt: alt || 'Nasze produkty',
                    fit: fit || 'cover',
                    position: position || 'center center'
                };
                
                if (editId) {
                    // Edit existing image
                    const index = parseInt(editId);
                    if (index >= 0 && index < siteData.gallery.images.length) {
                        siteData.gallery.images[index] = galleryImage;
                    }
                } else {
                    // Add new image
                    siteData.gallery.images.push(galleryImage);
                }
                
                // Don't save to localStorage - everything should be in JSON files
                saveSiteData(siteData);
                
                // Refresh UI
                renderGallery();
                renderAdminGalleryImagesList();
                clearGalleryImageForm();
                alert('‚úÖ Zdjƒôcie zosta≈Ço dodane/edytowane! Przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby pobraƒá plik JSON.');
            } catch (error) {
                console.error('Error saving gallery image:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas zapisywania zdjƒôcia!');
            }
        }
        
        // Edit gallery image
        function editGalleryImage(index) {
            try {
                if (!siteData.gallery.images || index < 0 || index >= siteData.gallery.images.length) {
                    return;
                }
                
                const image = siteData.gallery.images[index];
                
                document.getElementById('edit-gallery-image-id').value = index;
                document.getElementById('gallery-image-select').value = image.src;
                document.getElementById('gallery-image-manual').value = image.src;
                document.getElementById('gallery-image-alt').value = image.alt;
                document.getElementById('gallery-image-fit').value = image.fit;
                document.getElementById('gallery-image-position').value = image.position;
                
                // Show preview
                const preview = document.getElementById('gallery-image-preview');
                if (preview) {
                    const img = preview.querySelector('img');
                    if (img) {
                        img.src = 'image/' + image.src;
                        preview.classList.remove('hidden');
                    }
                }
                
                // Scroll to form
                const form = document.querySelector('#tab-content-gallery .bg-white');
                if (form) form.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                console.error('Error editing gallery image:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas edycji zdjƒôcia!');
            }
        }
        
        // Delete gallery image
        function deleteGalleryImage(index) {
            if (confirm('Czy na pewno chcesz usunƒÖƒá to zdjƒôcie z galerii?')) {
                try {
                    if (!siteData.gallery.images || index < 0 || index >= siteData.gallery.images.length) {
                        return;
                    }
                    
                    // Remove the image
                    siteData.gallery.images.splice(index, 1);
                    
                    // Don't save to localStorage - everything should be in JSON files
                    saveSiteData(siteData);
                    
                    // Refresh UI
                    renderGallery();
                    renderAdminGalleryImagesList();
                    alert('‚úÖ Zdjƒôcie zosta≈Ço usuniƒôte!');
                } catch (error) {
                    console.error('Error deleting gallery image:', error);
                    alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas usuwania zdjƒôcia!');
                }
            }
        }
        
        // Clear gallery image form
        function clearGalleryImageForm() {
            try {
                const select = document.getElementById('gallery-image-select');
                const manualInput = document.getElementById('gallery-image-manual');
                const imageUploadInput = document.getElementById('gallery-image-upload');
                const altInput = document.getElementById('gallery-image-alt');
                const fitSelect = document.getElementById('gallery-image-fit');
                const positionSelect = document.getElementById('gallery-image-position');
                const editIdInput = document.getElementById('edit-gallery-image-id');
                
                if (select) select.value = '';
                if (manualInput) manualInput.value = '';
                if (imageUploadInput) imageUploadInput.value = '';
                if (altInput) altInput.value = '';
                if (fitSelect) fitSelect.value = 'cover';
                if (positionSelect) positionSelect.value = 'center center';
                if (editIdInput) editIdInput.value = '';
                
                const preview = document.getElementById('gallery-image-preview');
                if (preview) preview.classList.add('hidden');
                
                const previewContainer = document.getElementById('gallery-image-preview-container');
                if (previewContainer) previewContainer.classList.add('hidden');
            } catch (error) {
                console.error('Error clearing gallery image form:', error);
            }
        }
        
        // Render admin gallery images list
        function renderAdminGalleryImagesList() {
            try {
                const container = document.getElementById('gallery-images-list');
                if (!container) return;
                container.innerHTML = '';
                
                if (!siteData.gallery.images || siteData.gallery.images.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center">Brak zdjƒôƒá w galerii.</p>';
                    return;
                }
                
                siteData.gallery.images.forEach((image, index) => {
                    const imageItem = document.createElement('div');
                    imageItem.className = 'flex items-center gap-4 bg-white p-4 rounded-lg shadow-md';
                    
                    const img = document.createElement('img');
                    img.src = `image/${image.src}`;
                    img.alt = image.alt;
                    img.className = 'w-24 h-24 object-cover rounded-lg';
                    
                    const contentDiv = document.createElement('div');
                    contentDiv.className = 'flex-1';
                    
                    const title = document.createElement('h5');
                    title.className = 'font-bold text-lg';
                    title.textContent = image.src;
                    
                    const description = document.createElement('p');
                    description.className = 'text-gray-600 text-sm';
                    description.textContent = `Alt: ${image.alt} | Fit: ${image.fit} | Position: ${image.position}`;
                    
                    contentDiv.appendChild(title);
                    contentDiv.appendChild(description);
                    
                    const buttonsDiv = document.createElement('div');
                    buttonsDiv.className = 'flex gap-2';
                    
                    const editButton = document.createElement('button');
                    editButton.className = 'px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors';
                    editButton.textContent = '‚úèÔ∏è Edytuj';
                    editButton.onclick = () => editGalleryImage(index);
                    
                    const deleteButton = document.createElement('button');
                    deleteButton.className = 'px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors';
                    deleteButton.textContent = 'üóëÔ∏è Usu≈Ñ';
                    deleteButton.onclick = () => deleteGalleryImage(index);
                    
                    buttonsDiv.appendChild(editButton);
                    buttonsDiv.appendChild(deleteButton);
                    
                    imageItem.appendChild(img);
                    imageItem.appendChild(contentDiv);
                    imageItem.appendChild(buttonsDiv);
                    
                    container.appendChild(imageItem);
                });
            } catch (error) {
                console.error('Error rendering admin gallery images list:', error);
            }
        }

        // Render Hero section
        function renderHero() {
            const section = document.querySelector('#home .relative.z-10');
            if (section) {
                section.querySelector('h1').textContent = siteData.hero.title;
                const paragraphs = section.querySelectorAll('p');
                if (paragraphs[0]) paragraphs[0].textContent = siteData.hero.desc1;
                if (paragraphs[1]) paragraphs[1].textContent = siteData.hero.desc2;
                if (paragraphs[2]) paragraphs[2].textContent = siteData.hero.desc3;
            }
        }

        // Render About section
        function renderAbout() {
            const section = document.querySelector('#o-nas');
            if (section) {
                section.querySelector('h2').textContent = siteData.about.mainTitle;
                
                // Update image
                const imageElement = document.getElementById('about-section-image');
                if (imageElement) {
                    imageElement.src = `image/${siteData.about.image}`;
                    imageElement.alt = siteData.about.title;
                }
                
                // Update text content
                const titleElement = section.querySelector('h3');
                if (titleElement) titleElement.textContent = siteData.about.title;
                
                const paragraphs = section.querySelectorAll('p');
                if (paragraphs.length > 0) {
                    paragraphs[0].innerHTML = siteData.about.description;
                }
            }
        }

        // Render Gallery title
        function renderGalleryTitle() {
            const title = document.querySelector('#galeria h2');
            if (title) title.textContent = siteData.gallery.title;
            renderGallery();
        }
        
        // Render Products section title and description
        function renderProductsSection() {
            const title = document.getElementById('products-section-title');
            const description = document.getElementById('products-section-description');
            
            if (title && siteData.products && siteData.products.title) {
                title.textContent = siteData.products.title;
            }
                
            if (description && siteData.products && siteData.products.description) {
                description.textContent = siteData.products.description;
            }
        }




        





        // Slider functions removed as slider functionality is no longer needed

        // Gallery functions for static content

        // Product Management Functions
        
        // Load products data into form
        function loadProductsData() {
            // For now, we'll use static values since products section doesn't have editable title/description in siteData
            document.getElementById('products-title').value = 'Nasze Produkty';
            document.getElementById('products-description').value = 'Odkryj naszƒÖ kolekcjƒô rƒôcznie robionych kwiat√≥w z wosku i ≈õwiec';
        }
        
        // Save products section data (title and description)
        function saveProductsData() {
            // We'll save this to siteData for consistency
            siteData.products = {
                title: document.getElementById('products-title').value,
                description: document.getElementById('products-description').value
            };
            saveSiteData(siteData);
            alert('‚úÖ Dane sekcji produkt√≥w zosta≈Çy zapisane! Przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby pobraƒá plik JSON.');
        }
        
        // Save a product
        async function saveProduct() {
            try {
                // Check if admin is logged in
                if (document.getElementById('admin-panel').classList.contains('hidden')) {
                    alert('Musisz siƒô zalogowaƒá jako administrator, aby dodaƒá/edytowaƒá produkty!');
                    return;
                }
                
                const name = document.getElementById('product-name').value.trim();
                const description = document.getElementById('product-description').value.trim();
                let image = document.getElementById('product-image').value;
                
                // If no image selected from dropdown, use manual input
                if (!image) {
                    image = document.getElementById('product-image-manual').value.trim();
                }
                
                // Check if an image was uploaded
                const imageUpload = document.getElementById('product-image-upload');
                if (imageUpload.files && imageUpload.files[0]) {
                    alert('‚ö†Ô∏è Uwaga: Wybrano plik z komputera. Po zapisaniu zmian pamiƒôtaj, aby rƒôcznie przes≈Çaƒá ten plik do folderu "image" na serwerze i u≈ºyƒá jego nazwy w konfiguracji.');
                    // For now, we'll still use the image field, but inform the user
                }
                
                const editId = document.getElementById('edit-product-id').value;
                
                if (!name || !description || !image) {
                    alert('‚ùå Wszystkie pola sƒÖ wymagane!');
                    return;
                }
                
                // Load current products
                let products = await loadProducts();
                
                // Update products array
                if (editId) {
                    // Edit existing product
                    const index = products.findIndex(p => p.id === editId);
                    if (index !== -1) {
                        products[index] = { id: editId, name, description, image };
                    }
                } else {
                    // Add new product
                    const newProduct = {
                        id: 'product_' + Date.now().toString() + '_' + Math.floor(Math.random() * 1000),
                        name,
                        description,
                        image
                    };
                    products.push(newProduct);
                }
                
                // Don't save to localStorage - everything should be in JSON files
                
                // Refresh UI
                await renderProducts();
                await renderAdminProductsList();
                clearProductForm();
                alert('‚úÖ Produkt zosta≈Ç dodany/edytowany! Przejd≈∫ do zak≈Çadki "üíæ Zapisz Zmiany" aby pobraƒá plik JSON.');
            } catch (error) {
                console.error('Error saving product:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas zapisywania produktu!');
            }
        }
        
        // Clear product form
        function clearProductForm() {
            try {
                const nameInput = document.getElementById('product-name');
                const descriptionInput = document.getElementById('product-description');
                const imageInput = document.getElementById('product-image');
                const imageManualInput = document.getElementById('product-image-manual');
                const imageUploadInput = document.getElementById('product-image-upload');
                const editIdInput = document.getElementById('edit-product-id');
                
                if (nameInput) nameInput.value = '';
                if (descriptionInput) descriptionInput.value = '';
                if (imageInput) imageInput.value = '';
                if (imageManualInput) imageManualInput.value = '';
                if (imageUploadInput) imageUploadInput.value = '';
                if (editIdInput) editIdInput.value = '';
                
                const preview = document.getElementById('product-image-preview');
                if (preview) preview.classList.add('hidden');
                
                const previewContainer = document.getElementById('product-image-preview-container');
                if (previewContainer) previewContainer.classList.add('hidden');
            } catch (error) {
                console.error('Error clearing product form:', error);
            }
        }
        
        // Render admin products list
        async function renderAdminProductsList() {
            const container = document.getElementById('admin-products-list');
            if (!container) return;
            container.innerHTML = '';
            
            // Load current products
            const products = await loadProducts();
            
            if (products.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center">Brak produkt√≥w.</p>';
                return;
            }
            
            products.forEach(product => {
                const productItem = document.createElement('div');
                productItem.className = 'flex items-center gap-4 bg-white p-4 rounded-lg shadow-md';
                
                const img = document.createElement('img');
                img.src = `image/${product.image}`;
                img.alt = product.name;
                img.className = 'w-24 h-24 object-cover rounded-lg';
                
                const contentDiv = document.createElement('div');
                contentDiv.className = 'flex-1';
                
                const title = document.createElement('h5');
                title.className = 'font-bold text-lg';
                title.textContent = product.name;
                
                const description = document.createElement('p');
                description.className = 'text-gray-600 text-sm line-clamp-2';
                description.textContent = product.description;
                
                contentDiv.appendChild(title);
                contentDiv.appendChild(description);
                
                const buttonsDiv = document.createElement('div');
                buttonsDiv.className = 'flex gap-2';
                
                const editButton = document.createElement('button');
                editButton.className = 'px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors';
                editButton.textContent = '‚úèÔ∏è Edytuj';
                editButton.onclick = () => editProduct(product.id);
                
                const deleteButton = document.createElement('button');
                deleteButton.className = 'px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors';
                deleteButton.textContent = 'üóëÔ∏è Usu≈Ñ';
                deleteButton.onclick = () => deleteProduct(product.id);
                
                buttonsDiv.appendChild(editButton);
                buttonsDiv.appendChild(deleteButton);
                
                productItem.appendChild(img);
                productItem.appendChild(contentDiv);
                productItem.appendChild(buttonsDiv);
                
                container.appendChild(productItem);
            });
        }
        
        // Edit product
        async function editProduct(id) {
            try {
                // Load current products
                const products = await loadProducts();
                
                const product = products.find(p => p.id === id);
                if (product) {
                    document.getElementById('edit-product-id').value = product.id;
                    document.getElementById('product-name').value = product.name;
                    document.getElementById('product-description').value = product.description;
                    document.getElementById('product-image').value = product.image;
                    document.getElementById('product-image-manual').value = product.image;
                    
                    // Show preview
                    const preview = document.getElementById('product-image-preview');
                    if (preview) {
                        const img = preview.querySelector('img');
                        if (img) {
                            img.src = 'image/' + product.image;
                            preview.classList.remove('hidden');
                        }
                    }
                    
                    // Scroll to form
                    const form = document.querySelector('#tab-content-products .bg-white');
                    if (form) form.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Error editing product:', error);
                alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas edycji produktu!');
            }
        }
        
        // Delete product
        async function deleteProduct(id) {
            if (confirm('Czy na pewno chcesz usunƒÖƒá ten produkt?')) {
                try {
                    // Load current products
                    let products = await loadProducts();
                    
                    // Filter out the product to delete
                    products = products.filter(p => p.id !== id);
                    
                    // Don't save to localStorage - everything should be in JSON files
                    
                    // Refresh UI
                    await renderProducts();
                    await renderAdminProductsList();
                    alert('‚úÖ Produkt zosta≈Ç usuniƒôty!');
                } catch (error) {
                    console.error('Error deleting product:', error);
                    alert('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas usuwania produktu!');
                }
            }
        }

        // Allow Enter key to login
        document.addEventListener('DOMContentLoaded', function() {
            const passwordInput = document.getElementById('admin-password');
            if (passwordInput) {
                passwordInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        checkAdminPassword();
                    }
                });
            }
        });

        // Set current year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Initialize
        async function initializePage() {
            await loadSiteData();
            await renderProducts();
            await renderBlogPosts();
            renderGallery();
            renderHero();
            renderAbout();
            renderGalleryTitle();
            renderProductsSection();
            renderSlider();
        }
        
        // Call initializePage when DOM is fully loaded
        document.addEventListener('DOMContentLoaded', async function() {
            await initializePage();
            initScrollAnimations();
            initMobileMenu();
            // Scan for available images
            await scanAvailableImages();
            
            // Render admin panel lists
            await renderAdminProductsList();
            renderAdminGalleryImagesList();
            renderAdminSliderImagesList();
            
            // Periodically rescan for new images (every 30 seconds)
            setInterval(() => {
                scanAvailableImages();
            }, 30000);
        });
        
        // Additional initialization for mobile devices
        window.addEventListener('load', async function() {
            // Double-check that data is loaded properly
            await initializePage();
            // Rescan images on window load as well
            await scanAvailableImages();
        });
        
        // Scroll Animation Functions
        function isInViewport(element) {
            const rect = element.getBoundingClientRect();
            const windowHeight = (window.innerHeight || document.documentElement.clientHeight);
            const windowWidth = (window.innerWidth || document.documentElement.clientWidth);
            
            // Element is considered in viewport if at least 15% of it is visible
            const verticalVisible = rect.top <= windowHeight * 0.85 && rect.bottom >= windowHeight * 0.15;
            const horizontalVisible = rect.left <= windowWidth && rect.right >= 0;
            
            return verticalVisible && horizontalVisible;
        }
        
        function handleScrollAnimations() {
            const animatedElements = document.querySelectorAll('.animate-fadeIn, .animate-slideInLeft, .animate-slideInRight, .animate-scaleIn');
            
            animatedElements.forEach(element => {
                if (isInViewport(element)) {
                    element.classList.add('visible');
                }
            });
        }
        
        // Initialize scroll animations
        function initScrollAnimations() {
            // Add scroll event listener
            window.addEventListener('scroll', handleScrollAnimations);
            
            // Trigger once on page load to animate elements already in viewport
            setTimeout(handleScrollAnimations, 100);
        }
        
        // Call initScrollAnimations when page is ready
        function initMobileMenu() {
            // Mobile menu functionality
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', toggleMobileMenu);
            }
            
            // Close mobile menu when clicking on a link
            const mobileMenuLinks = document.querySelectorAll('#mobile-menu a');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const mobileMenu = document.getElementById('mobile-menu');
                    if (!mobileMenu.classList.contains('hidden')) {
                        toggleMobileMenu();
                    }
                });
            });
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', function(event) {
                const mobileMenu = document.getElementById('mobile-menu');
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                
                if (!mobileMenu.classList.contains('hidden') && 
                    !mobileMenu.contains(event.target) && 
                    !mobileMenuButton.contains(event.target)) {
                    toggleMobileMenu();
                }
            });
        }
        

        
        // Fallback in case DOMContentLoaded doesn't fire
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initMobileMenu);
        } else {
            // DOM is already loaded
            initMobileMenu();
        }
        
        // Direct fallback - try to attach event listener immediately
        setTimeout(function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            if (mobileMenuButton && !mobileMenuButton.hasAttribute('data-initialized')) {
                mobileMenuButton.addEventListener('click', toggleMobileMenu);
                mobileMenuButton.setAttribute('data-initialized', 'true');
            }
        }, 100);
        
        // Window load event fallback
        window.addEventListener('load', function() {
            initMobileMenu();
        });
        
        // Refresh all content function
        async function refreshAllContent() {
            // Reload site data and products from JSON files
            await loadSiteData();
            await loadProducts();
            
            // Refresh all UI components
            renderHero();
            renderAbout();
            renderGallery();
            renderGalleryTitle();
            renderProductsSection();
            await renderProducts();
            renderSlider();
            
            // Rescan for available images
            await scanAvailableImages();
            
            alert('‚úÖ Ca≈Ça strona zosta≈Ça od≈õwie≈ºona! Wszystkie zmiany z plik√≥w JSON sƒÖ teraz widoczne.');
        }
        
        // Refresh image lists function
        function refreshImageLists() {
            // Rescan for available images and repopulate all image dropdowns
            scanAvailableImages().then(() => {
                alert('‚úÖ Listy zdjƒôƒá zosta≈Çy od≈õwie≈ºone! Teraz mo≈ºesz wybraƒá wiƒôcej zdjƒôƒá z listy.');
            }).catch(() => {
                alert('‚úÖ Listy zdjƒôƒá zosta≈Çy od≈õwie≈ºone! Teraz mo≈ºesz wybraƒá wiƒôcej zdjƒôƒá z listy.');
            });
        }
        
        /**
         * Mechanizm PodglƒÖdu Zdjƒôcia
         * Wywo≈Çywana po wybraniu pliku przez u≈ºytkownika (input type="file").
         * Odczytuje plik za pomocƒÖ obiektu FileReader i ustawia URL dla elementu <img> podglƒÖdu.
         * @param {Event} event Zdarzenie 'change' z input type="file".
         * @param {string} previewImgId ID elementu <img>, w kt√≥rym ma byƒá wy≈õwietlony podglƒÖd (np. 'about-image-preview-img').
         * @param {string} previewContainerId ID kontenera podglƒÖdu (np. 'about-image-preview-container'), aby go pokazaƒá.
         */
        function previewImage(event, previewImgId, previewContainerId) {
            const input = event.target;
            const previewImg = document.getElementById(previewImgId);
            const previewContainer = document.getElementById(previewContainerId);

            if (input.files && input.files[0]) {
                const reader = new FileReader();

                reader.onload = function(e) {
                    previewImg.src = e.target.result; // Ustawienie ≈∫r√≥d≈Ça obrazu na dane pliku
                    previewContainer.classList.remove('hidden'); // Pokazanie kontenera podglƒÖdu
                }

                reader.readAsDataURL(input.files[0]); // Odczytanie pliku jako Data URL
            } else {
                previewImg.src = ""; // Wyczyszczenie ≈∫r√≥d≈Ça
                previewContainer.classList.add('hidden'); // Ukrycie kontenera
            }
        }
        

    </script>
</body>
</html>
<!-- Page fully loaded -->
</html>
<!-- Page fully loaded --ac>
